{"ast":null,"code":"// angular import\nimport { CommonModule } from '@angular/common';\nimport { FormControl, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/theme/shared/services/authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nfunction LoginComponent_label_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 31);\n    i0.ɵɵtext(1, \"*Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_label_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 31);\n    i0.ɵɵtext(1, \"*Please provide a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_label_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 31);\n    i0.ɵɵtext(1, \"*Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport default class LoginComponent {\n  constructor(service, router, route, spinner) {\n    this.service = service;\n    this.router = router;\n    this.route = route;\n    this.spinner = spinner;\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.showErrorMsg = false;\n    localStorage.clear();\n    this.loginForm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', Validators.required)\n    });\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n  }\n  onFormSubmit() {\n    this.spinner.show();\n    this.showErrorMsg = false;\n    const formValues = this.loginForm.value;\n    console.log(formValues);\n    this.service.loginUser(formValues).subscribe({\n      next: res => {\n        localStorage.setItem(\"token\", res.token);\n        const name = this.service.getCurrentUser().name;\n        const role = this.service.getCurrentUser().role;\n        localStorage.setItem(\"currentUser\", name);\n        localStorage.setItem(\"currentRole\", role);\n        this.service.sendAuthStateChangeNotification(res.isAuthSuccessful);\n        this.router.navigate([this.returnUrl]);\n        this.spinner.hide();\n      },\n      error: err => {\n        this.errorMessage = err.message;\n        this.showErrorMsg = true;\n        Swal.fire('', err.message, 'error');\n        this.spinner.hide();\n      }\n    });\n  }\n  validateControl(controlName) {\n    return this.loginForm.get(controlName).invalid && this.loginForm.get(controlName).touched;\n  }\n  hasError(controlName, errorName) {\n    return this.loginForm.get(controlName).hasError(errorName);\n  }\n  sumbitBtnLogin() {\n    this.router.navigate([\"/dashboard/default\"]);\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NgxSpinnerService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 50,\n    vars: 6,\n    consts: [[1, \"auth-main\"], [1, \"auth-wrapper\", \"v3\"], [1, \"auth-form\"], [1, \"auth-header\"], [1, \"text-start\"], [\"src\", \"assets/images/logo-icon.svg\", \"alt\", \"theme-logo\", 1, \"logo\", \"logo-dark\", \"logo-lg\"], [1, \"fs-5\", \"fw-bolder\"], [1, \"card\", \"my-3\"], [1, \"card-body\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-end\", \"mb-4\"], [1, \"mb-0\"], [3, \"formGroup\"], [1, \"form-group\", \"mb-3\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Email Address\", 1, \"form-control\"], [\"class\", \"e-error\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\"], [1, \"d-flex\", \"mt-1\", \"justify-content-between\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"customCheckc1\", \"checked\", \"\", 1, \"form-check-input\", \"input-primary\"], [\"for\", \"customCheckc1\", 1, \"form-check-label\", \"text-muted\"], [1, \"d-grid\", \"mt-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [1, \"text-center\", \"mt-3\"], [2, \"color\", \"#145DA0\"], [1, \"auth-footer\", \"row\"], [1, \"col\", \"my-1\"], [1, \"m-0\"], [\"bdColor\", \"rgba(0, 0, 0, 0.8)\", \"size\", \"medium\", \"color\", \"#fff\", \"type\", \"square-jelly-box\", 3, \"fullScreen\"], [2, \"color\", \"white\"], [1, \"e-error\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n        i0.ɵɵelement(5, \"img\", 5);\n        i0.ɵɵelementStart(6, \"label\", 6);\n        i0.ɵɵtext(7, \"TMS_Gate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9)(11, \"h3\", 10)(12, \"b\");\n        i0.ɵɵtext(13, \"Login\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"form\", 11)(15, \"div\", 12)(16, \"label\", 13);\n        i0.ɵɵtext(17, \"Email Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"input\", 14);\n        i0.ɵɵelementStart(19, \"div\");\n        i0.ɵɵtemplate(20, LoginComponent_label_20_Template, 2, 0, \"label\", 15)(21, LoginComponent_label_21_Template, 2, 0, \"label\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 12)(23, \"label\", 16);\n        i0.ɵɵtext(24, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 17);\n        i0.ɵɵelementStart(26, \"div\");\n        i0.ɵɵtemplate(27, LoginComponent_label_27_Template, 2, 0, \"label\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 18)(29, \"div\", 19);\n        i0.ɵɵelement(30, \"input\", 20);\n        i0.ɵɵelementStart(31, \"label\", 21);\n        i0.ɵɵtext(32, \"Keep me sign in\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(33, \"div\", 22)(34, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_34_listener() {\n          return ctx.onFormSubmit();\n        });\n        i0.ɵɵtext(35, \"Login\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"div\", 24)(37, \"small\")(38, \"label\", 25);\n        i0.ɵɵtext(39, \"TMS Gate Version (1.0.0.0)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(40, \"br\");\n        i0.ɵɵtext(41, \" Powered by INS Co,.Ltd \");\n        i0.ɵɵelement(42, \"br\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(43, \"div\", 26)(44, \"div\", 27)(45, \"p\", 28);\n        i0.ɵɵtext(46, \" Copyright \\u00A92024 \");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(47, \"ngx-spinner\", 29)(48, \"p\", 30);\n        i0.ɵɵtext(49, \" Loading... \");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.validateControl(\"email\") && ctx.hasError(\"email\", \"required\"));\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.validateControl(\"email\") && ctx.hasError(\"email\", \"email\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.validateControl(\"password\") && ctx.hasError(\"password\", \"required\"));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"fullScreen\", true);\n      }\n    },\n    dependencies: [RouterModule, NgxSpinnerModule, i3.NgxSpinnerComponent, ReactiveFormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, CommonModule, i5.NgIf],\n    styles: [\".auth-main[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%] {\\n  height: 100%;\\n  width: 100%;\\n  min-height: 100vh;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .saprator[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: flex;\\n  align-self: center;\\n  justify-content: center;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .saprator[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 50%;\\n  left: 0;\\n  width: 100%;\\n  height: 1px;\\n  background: var(--bs-border-color);\\n  z-index: 1;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .saprator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 0.875rem;\\n  padding: 8px 24px;\\n  background: #ffffff;\\n  z-index: 5;\\n  text-transform: capitalize;\\n  color: #262626;\\n  font-weight: 500;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%] {\\n  flex-direction: column;\\n  background: url('img-auth-bg.svg');\\n  min-height: 100vh;\\n  padding: 24px;\\n  background-repeat: no-repeat;\\n  background-size: auto 82%;\\n  background-position: left bottom;\\n  position: relative;\\n  justify-content: space-between;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\n  position: relative;\\n  z-index: 5;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(255, 255, 255, 0.2);\\n  -webkit-backdrop-filter: blur(16px);\\n          backdrop-filter: blur(16px);\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-grow: 1;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] {\\n  width: 100%;\\n  max-width: 495px;\\n  box-shadow: none;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]    + span[_ngcontent-%COMP%] {\\n  padding-left: 15px;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  text-decoration: underline;\\n}\\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%], \\n.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\nform[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  display: inline-flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 0px -12px 0px 0px;\\n  cursor: pointer;\\n  padding: 12px;\\n  font-size: 18px;\\n  position: absolute;\\n  top: 203px;\\n  right: 45px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGVtby9hdXRoZW50aWNhdGlvbi9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9zY3NzL3NldHRpbmdzL2NvbG9yLXZhcmlhYmxlcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0Usa0JBQUE7QUFERjtBQUdFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtBQURKO0FBR0k7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0FBRE47QUFHTTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxrQ0FBQTtFQUNBLFVBQUE7QUFEUjtBQUlNO0VBQ0UsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQ3pCQTtFRDBCQSxVQUFBO0VBQ0EsMEJBQUE7RUFDQSxjQ3BCRztFRHFCSCxnQkFBQTtBQUZSO0FBTUk7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7QUFKTjtBQU1NO0VBQ0Usc0JBQUE7RUFDQSxrQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLDRCQUFBO0VBQ0EseUJBQUE7RUFDQSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsOEJBQUE7QUFKUjtBQUtRO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0FBSFY7QUFLUTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxvQ0FBQTtFQUNBLG1DQUFBO1VBQUEsMkJBQUE7QUFIVjtBQU9JO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0FBTE47QUFPTTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBTFI7QUFRTTtFQUNFLGtCQUFBO0FBTlI7QUFVUTtFQUNFLDBCQUFBO0FBUlY7QUFZSTs7RUFFRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7QUFWTjs7QUFlQTtFQUNFLG9CQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtBQVpGIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vc2Nzcy9zZXR0aW5ncy9jb2xvci12YXJpYWJsZXMuc2Nzcyc7XG5cbi5hdXRoLW1haW4ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgLmF1dGgtd3JhcHBlciB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuXG4gICAgLnNhcHJhdG9yIHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblxuICAgICAgJjphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJzLWJvcmRlci1jb2xvcik7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIHNwYW4ge1xuICAgICAgICBmb250LXNpemU6IDAuODc1cmVtO1xuICAgICAgICBwYWRkaW5nOiA4cHggMjRweDtcbiAgICAgICAgYmFja2dyb3VuZDogJHdoaXRlO1xuICAgICAgICB6LWluZGV4OiA1O1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgICAgICAgY29sb3I6ICRncmF5LTgwMDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmLnYzIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgICAuYXV0aC1mb3JtIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYmFja2dyb3VuZDogdXJsKCcuLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2F1dGhlbnRpY2F0aW9uL2ltZy1hdXRoLWJnLnN2ZycpO1xuICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgcGFkZGluZzogMjRweDtcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBhdXRvIDgyJTtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCBib3R0b207XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICA+ICoge1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICB6LWluZGV4OiA1O1xuICAgICAgICB9XG4gICAgICAgICY6YWZ0ZXIge1xuICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgkd2hpdGUsIDAuMik7XG4gICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC5hdXRoLWZvcm0ge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGZsZXgtZ3JvdzogMTtcblxuICAgICAgLmNhcmQge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiA0OTVweDtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cblxuICAgICAgaW1nICsgc3BhbiB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMTVweDtcbiAgICAgIH1cblxuICAgICAgaDUge1xuICAgICAgICBzcGFuIHtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAuYXV0aC1mb290ZXIsXG4gICAgLmF1dGgtaGVhZGVyIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgfVxuICB9XG59XG5cbmZvcm0gaSB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luOiAwcHggLTEycHggMHB4IDBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwYWRkaW5nOiAxMnB4O1xuICBmb250LXNpemU6IDE4cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAyMDNweDtcbiAgcmlnaHQ6IDQ1cHg7XG59XG5cbiIsIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gICBMaXN0IG9mIHZhcmlhYmxlcyBmb3IgUHJlc2V0IGNvbG9yXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gR3JheSBjb2xvclxuJHdoaXRlOiAjZmZmZmZmO1xuJGdyYXktMTAwOiAjZmFmYWZhO1xuJGdyYXktMjAwOiAjZjVmNWY1O1xuJGdyYXktMzAwOiAjZjBmMGYwO1xuJGdyYXktNDAwOiAjZDlkOWQ5O1xuJGdyYXktNTAwOiAjYmZiZmJmO1xuJGdyYXktNjAwOiAjOGM4YzhjO1xuJGdyYXktNzAwOiAjNTk1OTU5O1xuJGdyYXktODAwOiAjMjYyNjI2O1xuJGdyYXktOTAwOiAjMTQxNDE0O1xuJGJsYWNrOiAjMDAwMDAwO1xuXG4kYmx1ZTogIzE2NzdmZjtcbiRpbmRpZ286ICM2NjEwZjI7XG4kcHVycGxlOiAjNmY0MmMxO1xuJHBpbms6ICNlODNlOGM7XG4kcmVkOiAjZmY0ZDRmO1xuJG9yYW5nZTogI2ZkN2UxNDtcbiR5ZWxsb3c6ICNmYWFkMTQ7XG4kZ3JlZW46ICM1MmM0MWE7XG4kdGVhbDogIzIwYzk5NztcbiRjeWFuOiAjMTNjMmMyO1xuXG4kYmx1ZS0xMDA6IHRpbnQtY29sb3IoJGJsdWUsIDgwJSk7XG4kYmx1ZS0yMDA6IHRpbnQtY29sb3IoJGJsdWUsIDYwJSk7XG4kYmx1ZS0zMDA6IHRpbnQtY29sb3IoJGJsdWUsIDQwJSk7XG4kYmx1ZS00MDA6IHRpbnQtY29sb3IoJGJsdWUsIDIwJSk7XG4kYmx1ZS01MDA6ICRibHVlO1xuJGJsdWUtNjAwOiBzaGFkZS1jb2xvcigkYmx1ZSwgMjAlKTtcbiRibHVlLTcwMDogc2hhZGUtY29sb3IoJGJsdWUsIDQwJSk7XG4kYmx1ZS04MDA6IHNoYWRlLWNvbG9yKCRibHVlLCA2MCUpO1xuJGJsdWUtOTAwOiBzaGFkZS1jb2xvcigkYmx1ZSwgODAlKTtcblxuJHByZXNldC1jb2xvcnM6IChcbiAgcHJlc2V0LTE6IChcbiAgICBwcmltYXJ5OiAjMTg5MGZmXG4gIClcbik7XG4kZGFyay1iZy1jb2xvcjogIzEyMTIxMjtcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["CommonModule","FormControl","FormGroup","ReactiveFormsModule","Validators","RouterModule","NgxSpinnerModule","Swal","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent","constructor","service","router","route","spinner","errorMessage","ngOnInit","showErrorMsg","localStorage","clear","loginForm","email","required","password","returnUrl","snapshot","queryParams","onFormSubmit","show","formValues","value","console","log","loginUser","subscribe","next","res","setItem","token","name","getCurrentUser","role","sendAuthStateChangeNotification","isAuthSuccessful","navigate","hide","error","err","message","fire","validateControl","controlName","get","invalid","touched","hasError","errorName","sumbitBtnLogin","_","ɵɵdirectiveInject","i1","AuthenticationService","i2","Router","ActivatedRoute","i3","NgxSpinnerService","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","LoginComponent_label_20_Template","LoginComponent_label_21_Template","LoginComponent_label_27_Template","ɵɵlistener","LoginComponent_Template_button_click_34_listener","ɵɵadvance","ɵɵproperty","valid","NgxSpinnerComponent","i4","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i5","NgIf","styles"],"sources":["D:\\PES\\RGL_Gate\\TMS_Web\\src\\app\\demo\\authentication\\login\\login.component.ts","D:\\PES\\RGL_Gate\\TMS_Web\\src\\app\\demo\\authentication\\login\\login.component.html"],"sourcesContent":["// angular import\nimport { CommonModule } from '@angular/common';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { NgxSpinnerModule, NgxSpinnerService } from 'ngx-spinner';\nimport { AuthResponseDto } from 'src/app/theme/shared/interfaces/AuthResponseDto.model';\nimport { AuthenticationService } from 'src/app/theme/shared/services/authentication.service';\nimport Swal from 'sweetalert2';\nimport { Title } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [RouterModule,NgxSpinnerModule,ReactiveFormsModule,CommonModule],\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport default class LoginComponent {\n  loginForm: any;\n  errorMessage: string = '';\n  showErrorMsg: boolean;\n  returnUrl: string;\n  constructor(\n     private service: AuthenticationService,\n     private router: Router,\n     private route: ActivatedRoute,\n     private spinner: NgxSpinnerService,\n  ) {}\n\n  ngOnInit(): void {\n    this.showErrorMsg=false;\n    localStorage.clear();\n    this.loginForm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', Validators.required)\n    });\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n  }\n\n    onFormSubmit() {\n    this.spinner.show();\n    this.showErrorMsg = false;\n    const formValues = this.loginForm.value;\n    console.log(formValues)\n    this.service.loginUser(formValues)\n    .subscribe({\n      next: (res:AuthResponseDto) => {\n       localStorage.setItem(\"token\", res.token);\n       const name = this.service.getCurrentUser().name;\n       const role = this.service.getCurrentUser().role;\n       localStorage.setItem(\"currentUser\", name);\n       localStorage.setItem(\"currentRole\", role);\n       this.service.sendAuthStateChangeNotification(res.isAuthSuccessful);\n       this.router.navigate([this.returnUrl]);\n      this.spinner.hide();\n    },\n    error: (err: HttpErrorResponse) => {\n      this.errorMessage = err.message;\n      this.showErrorMsg = true;\n      Swal.fire('', err.message, 'error');\n      this.spinner.hide();\n    }});\n   }\n\n  validateControl(controlName: string) {\n    return this.loginForm.get(controlName).invalid && this.loginForm.get(controlName).touched;\n  }\n\n  hasError (controlName: string, errorName: string) {\n    return this.loginForm.get(controlName).hasError(errorName)\n  }\n  sumbitBtnLogin(){\n    this.router.navigate([\"/dashboard/default\"]);\n  }\n}\n","<div class=\"auth-main\">\r\n  <div class=\"auth-wrapper v3\">\r\n    <div class=\"auth-form\">\r\n      <div class=\"auth-header\">\r\n        <div class=\"text-start\">\r\n          <img src=\"assets/images/logo-icon.svg\" alt=\"theme-logo\" class=\"logo logo-dark logo-lg\" />\r\n          <label class=\"fs-5 fw-bolder\">TMS_Gate</label>\r\n        </div>\r\n      </div>\r\n      <!-- <div *ngIf=\"showErrorMsg\" class=\"alert alert-danger card\" role=\"alert\">\r\n        <span [innerHTML]=\"errorMessage\"></span>\r\n      </div> -->\r\n      <div class=\"card my-3\">\r\n        <div class=\"card-body\">\r\n          <div class=\"d-flex justify-content-between align-items-end mb-4\">\r\n            <h3 class=\"mb-0\"><b>Login</b></h3>\r\n          </div>\r\n          <form [formGroup]=\"loginForm\">\r\n          <div class=\"form-group mb-3\">\r\n            <label class=\"form-label\" for=\"email\">Email Address</label>\r\n            <input type=\"email\" class=\"form-control\" formControlName=\"email\" placeholder=\"Email Address\"/>\r\n            <div>\r\n              <label class=\"e-error\" *ngIf=\"validateControl('email') && hasError('email', 'required')\">*Email is required</label>\r\n              <label class=\"e-error\" *ngIf=\"validateControl('email') && hasError('email', 'email')\">*Please provide a valid email</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group mb-3\">\r\n            <label class=\"form-label\" for=\"password\">Password</label>\r\n            <input type=\"password\" class=\"form-control\" formControlName=\"password\" placeholder=\"Password\"/>\r\n            <div>\r\n              <label class=\"e-error\" *ngIf=\"validateControl('password') && hasError('password', 'required')\">*Password is required</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex mt-1 justify-content-between\">\r\n            <div class=\"form-check\">\r\n              <input class=\"form-check-input input-primary\" type=\"checkbox\" id=\"customCheckc1\" checked=\"\" />\r\n              <label class=\"form-check-label text-muted\" for=\"customCheckc1\">Keep me sign in</label>\r\n            </div>\r\n            <!-- <h5 class=\"text-secondary f-w-400\"><a href=\"javascript:\">Forgot Password?</a></h5> -->\r\n          </div>\r\n          <div class=\"d-grid mt-4\">\r\n            <button type=\"button\" class=\"btn btn-primary\" [disabled]=\"!this.loginForm.valid\" (click)=\"onFormSubmit()\">Login</button>\r\n          </div>\r\n        </form>\r\n          <div class=\"text-center mt-3\">\r\n            <small>\r\n              <label style=\"color: #145DA0\">TMS Gate Version (1.0.0.0)</label><br />\r\n              Powered by INS Co,.Ltd\r\n              <br />\r\n           </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"auth-footer row\">\r\n        <div class=\"col my-1\">\r\n          <p class=\"m-0\">\r\n            Copyright ©2024\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ngx-spinner bdColor = \"rgba(0, 0, 0, 0.8)\" size = \"medium\" color = \"#fff\" type = \"square-jelly-box\" [fullScreen] = \"true\"><p style=\"color: white\" > Loading... </p></ngx-spinner>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}