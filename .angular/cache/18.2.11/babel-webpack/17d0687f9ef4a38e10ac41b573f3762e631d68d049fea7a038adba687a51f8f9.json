{"ast":null,"code":"import { TmsOperationModule } from '../../tms-operation.module';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { catchError, of } from 'rxjs';\nimport moment from 'moment';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./proposal.service\";\nimport * as i2 from \"ngx-spinner\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@syncfusion/ej2-angular-grids\";\nimport * as i6 from \"@syncfusion/ej2-angular-dropdowns\";\nimport * as i7 from \"@syncfusion/ej2-angular-calendars\";\nimport * as i8 from \"@syncfusion/ej2-angular-popups\";\nconst _c0 = [\"Grid\"];\nconst _c1 = [\"closeModel\"];\nfunction ProposalComponent_ng_template_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \"Status Close Form\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProposalComponent_ng_template_81_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 57);\n    i0.ɵɵlistener(\"click\", function ProposalComponent_ng_template_81_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onCloseFormSubmit());\n    });\n    i0.ɵɵtext(1, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function ProposalComponent_ng_template_81_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      i0.ɵɵnextContext();\n      const closeModel_r4 = i0.ɵɵreference(60);\n      return i0.ɵɵresetView(closeModel_r4.hide());\n    });\n    i0.ɵɵtext(3, \"Close\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.closeForm.valid);\n  }\n}\nexport class ProposalComponent {\n  constructor(service, spinner, router) {\n    this.service = service;\n    this.spinner = spinner;\n    this.router = router;\n    this.pageSettings = {\n      pageSize: 50\n    };\n    this.editSettings = {\n      allowAdding: true,\n      allowDeleting: true\n    };\n    this.toolbar = ['Add', {\n      text: \"Edit\",\n      tooltipText: \"Edit\",\n      prefixIcon: \"e-icons e-edit\",\n      id: \"edit\"\n    }, {\n      text: \"Close Import\",\n      tooltipText: \"Close Import\",\n      prefixIcon: \"e-download\",\n      id: \"close\"\n    },\n    // { text: \"Customer\", tooltipText: \"Customer\", prefixIcon: \"e-icons e-circle-add\", id: \"customer\" },\n    {\n      text: \"Truck Details\",\n      tooltipText: \"Truck Details\",\n      prefixIcon: \"e-icons e-selection\",\n      id: \"detail\"\n    }, {\n      text: \"Complete\",\n      tooltipText: \"Complete\",\n      prefixIcon: \"e-icons e-check\",\n      id: \"complete\"\n    }, 'Delete', 'ExcelExport', 'Search'];\n    this.lines = 'Both';\n    // customerForm:FormGroup;\n    this.submitClicked = false;\n    this.formatfilter = \"MM/dd/yyyy\";\n    this.deptTypeList = [\"CCA\", \"Warehouse\", \"Rail\"];\n    this.today = new Date();\n    this.placeholder = 'Select One';\n    this.jobDeptList = [];\n    this.deptList = [\"CCA\", \"Warehouse\", \"Rail\"];\n    this.driverList = [];\n  }\n  ngOnInit() {\n    // set the type of mode for checkbox to visualized the checkbox added in li element.\n    this.mode = 'CheckBox';\n    // set the select all text to MultiSelect checkbox label.\n    this.selectAllText = 'Select All';\n    //this.getLocationList();\n    this.optionForm = new FormGroup({\n      fromDate: new FormControl(sessionStorage.getItem(\"icfromDate\") ? sessionStorage.getItem(\"icfromDate\") : this.today, Validators.required),\n      toDate: new FormControl(sessionStorage.getItem(\"ictoDate\") ? sessionStorage.getItem(\"ictoDate\") : this.today, Validators.required),\n      deptType: new FormControl(sessionStorage.getItem(\"deptType\") ? sessionStorage.getItem(\"deptType\").split(',') : null, Validators.required)\n    });\n    this.closeForm = new FormGroup({\n      jobDept: new FormControl('', Validators.required),\n      file: new FormControl('', Validators.required),\n      uploadedFile: new FormControl('')\n    });\n    //this.loadTableData();\n    // this.getCusTruckList();\n  }\n  // getCusTruckList(){\n  //   this.service.getCusTruckList()\n  //   .pipe(catchError((err) => of(this.showError(err))))\n  //     .subscribe((result) => {\n  //       this.cusTruckList= result;\n  //       this.spinner.hide();\n  //   });\n  // }\n  loadTableData() {\n    this.spinner.show();\n    const formData = this.optionForm.value;\n    const fromDate = moment(formData.fromDate).format('MM/DD/YYYY');\n    const toDate = moment(formData.toDate).format('MM/DD/YYYY');\n    sessionStorage.setItem(\"icfromDate\", fromDate);\n    sessionStorage.setItem(\"ictoDate\", toDate);\n    sessionStorage.setItem(\"deptType\", formData.deptType);\n    let dept = \"\";\n    if (formData.deptType.length > 0) {\n      dept = this.formatParams(formData.deptType);\n    }\n    if (fromDate && toDate && dept) {\n      this.service.getProposalList(fromDate, toDate, dept).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n        this.grid.dataSource = result;\n        this.spinner.hide();\n      });\n    }\n    this.spinner.hide();\n  }\n  actionBegin(args) {\n    if (args.requestType === 'add') {\n      this.submitClicked = false;\n      this.router.navigate([\"/tms-operation/proposal-form\"]);\n    }\n    if (args.requestType === 'delete') {\n      args.cancel = true;\n      const data = args.data;\n      const id = data[0].propNo;\n      this.deleteProposal(id);\n    }\n  }\n  formatParams(paramArray) {\n    return paramArray.map(item => `'${item}'`).join(',');\n  }\n  handleFileInput(files) {\n    if (files.length > 0) {\n      this.closeForm.controls['uploadedFile'].setValue(files.item(0));\n    }\n  }\n  deleteProposal(id) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'You will not be able to recover this data!',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#DD6B55',\n      cancelButtonText: 'No, keep it',\n      confirmButtonText: 'Yes, I am sure!'\n    }).then(response => {\n      if (response.value) {\n        this.spinner.show();\n        this.service.deleteProposal(id).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n          if (result.status == true) {\n            this.showSuccess(result.messageContent);\n            this.loadTableData();\n          } else {\n            this.spinner.hide();\n            Swal.fire('TMS Proposal', result.messageContent, 'error');\n          }\n        });\n      } else if (response.dismiss === Swal.DismissReason.cancel) {\n        Swal.close();\n      }\n    });\n  }\n  completeProposal(id, user) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'This proposal will be completed!',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: 'blue',\n      cancelButtonText: 'No, keep it',\n      confirmButtonText: 'Yes, I am sure!'\n    }).then(response => {\n      if (response.value) {\n        this.spinner.show();\n        this.service.completeProposal(id, user).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n          if (result.status == true) {\n            this.showSuccess(result.messageContent);\n            this.loadTableData();\n          } else {\n            this.spinner.hide();\n            Swal.fire('TMS Proposal', result.messageContent, 'error');\n          }\n        });\n      } else if (response.dismiss === Swal.DismissReason.cancel) {\n        Swal.close();\n      }\n    });\n  }\n  onCloseFormSubmit() {\n    const data = this.closeForm.value;\n    const formData = new FormData();\n    formData.append(\"UploadedFile\", data.uploadedFile);\n    formData.append(\"JobDept\", data.jobDept);\n    this.statusChange(formData);\n  }\n  statusChange(formData) {\n    this.closeModel.hide();\n    this.spinner.show();\n    this.service.statusChange(formData).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      if (result.status == true) {\n        Swal.fire('Proposal', result.message + 'Job Code ' + result.messageContent, 'success');\n        this.loadTableData();\n      } else {\n        this.spinner.hide();\n        Swal.fire('Proposal', result.messageContent, 'error');\n      }\n    });\n  }\n  createProposalDetail(formData) {\n    this.spinner.show();\n    this.service.createProposalDetail(formData).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      if (result.status == true) {\n        this.showSuccess(result.messageContent);\n        this.router.navigate([\"/tms-operation/proposal\"]);\n      } else {\n        this.spinner.hide();\n        Swal.fire('Proposal', result.messageContent, 'error');\n      }\n    });\n  }\n  showSuccess(msg) {\n    this.spinner.hide();\n    Swal.fire('TMS Proposal', msg, 'success');\n  }\n  showError(error) {\n    this.spinner.hide();\n    Swal.fire('TMS Proposal', error.statusText, 'error');\n  }\n  toolbarClick(args) {\n    if (args.item.text === 'Excel Export') {\n      this.grid.excelExport({\n        fileName: 'Proposal.xlsx'\n      });\n    }\n    if (args.item.id === 'close') {\n      this.closeForm.reset();\n      this.closeForm.controls['jobDept'].setValue(this.jobDept);\n      this.closeModel.show();\n    }\n    if (args.item.id === 'detail' || args.item.id === 'edit' || args.item.id === 'complete') {\n      let selectedRecords = this.grid.getSelectedRecords();\n      if (selectedRecords.length == 0) {\n        Swal.fire('TMS Proposal', \"Please select one row!\", 'warning');\n      } else {\n        const id = selectedRecords[0].propNo;\n        this.jobDept = selectedRecords[0].jobDept;\n        const user = localStorage.getItem('currentUser');\n        if (args.item.id === 'detail') {\n          this.router.navigate([\"/tms-operation/proposal-detail\"], {\n            queryParams: {\n              id: id\n            }\n          });\n          return;\n        } else if (args.item.id === 'edit') {\n          this.router.navigate([\"/tms-operation/proposal-form\"], {\n            queryParams: {\n              id: id\n            }\n          });\n        } else if (args.item.id === 'complete') {\n          this.completeProposal(id, user);\n          return;\n        }\n      }\n    }\n  }\n  // onAssignTypeChange(type:string){\n  // if(type!=null && this.jobDept!=null){\n  //   this.type=type;\n  //   if(this.jobDept==\"CCA\"){\n  //     this.jobTypeList=[];\n  //     this.jobTypeList=['Import','Export']\n  //   }\n  //   else if(this.jobDept==\"Warehouse\"){\n  //     this.jobTypeList=[];\n  //     this.jobTypeList=['WH Pick Up','WH Delivery','Bonded Delivery','Bonded Transport','Import','Export']\n  //   }\n  //   else{//Rail\n  //     this.jobTypeList=[];\n  //     this.jobTypeList=['Rail Delivery','Rail Pick Up'];\n  //   }\n  // }\n  // }\n  // onJobTypeChange(jobType:string){\n  //   if(this.type==null){\n  //     Swal.fire(\"Proposal\",\"Please Select type!\",\"warning\");\n  //     return;\n  //   }\n  //   if(this.type!=null && jobType!=null){\n  //    this.service\n  //    .getTruckList(this.type,jobType)\n  //    .pipe(catchError((err) => of(this.showError(err))))\n  //    .subscribe((result) => {\n  //     this.truckList=result;\n  //   });\n  //   }\n  // }\n  // onCusTruckChange(truckNo:string){\n  //   let truckInfo=this.cusTruckList.filter(t=>t.vehicleRegNo==truckNo);\n  //   this.getCusDriverList(truckInfo[0].driverLicenseNo);\n  // }\n  validateControl(controlName) {\n    const control = this.closeForm.get(controlName);\n    return control.invalid && (control.dirty || control.touched) || control.invalid && this.submitClicked;\n  }\n  static {\n    this.ɵfac = function ProposalComponent_Factory(t) {\n      return new (t || ProposalComponent)(i0.ɵɵdirectiveInject(i1.ProposalService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProposalComponent,\n      selectors: [[\"app-proposal\"]],\n      viewQuery: function ProposalComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.grid = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.closeModel = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 86,\n      vars: 26,\n      consts: [[\"Grid\", \"\"], [\"closeModel\", \"\"], [\"header\", \"\"], [\"footerTemplate\", \"\"], [1, \"content\", \"mt-0\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/\", \"routerLinkActive\", \"active\"], [1, \"nav-icon\", \"fas\", \"fa-tachometer-alt\"], [1, \"breadcrumb-item\", \"active\", \"text-primary\"], [1, \"card\", \"card-primary\", \"card-outline\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"card-body\"], [1, \"col-md-12\", \"col-lg-12\", \"text-left\"], [3, \"formGroup\"], [1, \"row\", \"btns\", \"mb-2\"], [1, \"col-lg-5\", \"col-12\"], [\"for\", \"fromDate\", 1, \"col-sm-4\", \"col-form-label\", \"requiredfield\"], [1, \"col-sm-8\", \"p-0\"], [\"formControlName\", \"fromDate\", \"floatLabelType\", \"Always\", 3, \"format\"], [\"for\", \"toDate\", 1, \"col-sm-4\", \"col-form-label\", \"requiredfield\"], [\"formControlName\", \"toDate\", \"floatLabelType\", \"Always\", 3, \"format\"], [1, \"row\", \"mb-2\"], [1, \"col-sm-4\", \"col-form-label\", \"requiredfield\"], [\"formControlName\", \"deptType\", \"tabindex\", \"4\", \"showSelectAll\", \"true\", 3, \"dataSource\", \"mode\", \"placeholder\", \"selectAllText\"], [1, \"col-lg-2\", \"col-12\", \"justify-content-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-eye\"], [3, \"actionBegin\", \"toolbarClick\", \"dataSource\", \"allowResizing\", \"allowSorting\", \"allowPaging\", \"pageSettings\", \"editSettings\", \"allowExcelExport\", \"toolbar\", \"gridLines\"], [\"field\", \"yard\", \"headerText\", \"Yard\", \"width\", \"100\"], [\"field\", \"estDate\", \"headerText\", \"Estimate Date\", \"type\", \"date\", \"format\", \"dd-MM-yyyy\", \"width\", \"130\"], [\"field\", \"jobCode\", \"headerText\", \"JobCode\", \"width\", \"100\"], [\"field\", \"jobDept\", \"headerText\", \"JobDept\", \"width\", \"150\"], [\"field\", \"jobType\", \"headerText\", \"JobType\", \"width\", \"100\"], [\"field\", \"noOfTruck\", \"headerText\", \"NoOfTruck\", \"width\", \"100\"], [\"field\", \"noOfTEU\", \"headerText\", \"NoOfTEU\", \"width\", \"100\"], [\"field\", \"noOfFEU\", \"headerText\", \"NoOfFEU\", \"width\", \"100\"], [\"field\", \"lclQty\", \"headerText\", \"LCLQty\", \"width\", \"100\"], [\"field\", \"areaID\", \"headerText\", \"Operation Area\", \"width\", \"250\"], [\"field\", \"pcCode\", \"headerText\", \"Category\", \"width\", \"100\"], [\"field\", \"status\", \"headerText\", \"Status\", \"width\", \"100\"], [\"isModal\", \"true\", \"height\", \"48%\", \"width\", \"500px\", \"allowDragging\", \"true\", 3, \"showCloseIcon\", \"visible\"], [1, \"form-group\", \"col-md-12\"], [1, \"requiredfield\"], [\"formControlName\", \"jobDept\", \"tabindex\", \"3\", \"popupHeight\", \"200px\", \"placeholder\", \"Select One\", 3, \"dataSource\"], [1, \"e-error\", 2, \"display\", \"block\"], [1, \"e-float-input\", \"e-control-wrapper\"], [\"formControlName\", \"file\", \"id\", \"file\", \"type\", \"file\", \"accept\", \".xlsx\", 2, \"padding-top\", \"2px\", 3, \"change\"], [1, \"e-float-line\"], [\"for\", \"file\", 1, \"e-float-text\", \"e-label-top\", \"requiredfield\"], [\"bdColor\", \"rgba(0, 0, 0, 0.8)\", \"size\", \"medium\", \"color\", \"#fff\", \"type\", \"square-jelly-box\", 3, \"fullScreen\"], [2, \"color\", \"white\"], [1, \"font-weight-bold\"], [\"type\", \"submit\", \"ejs-button\", \"\", 1, \"e-edit-dialog\", \"e-control\", \"e-btn\", \"e-lib\", \"e-primary\", \"e-flat\", 3, \"click\", \"disabled\"], [\"ejs-button\", \"\", 1, \"e-edit-dialog\", \"e-control\", \"e-btn\", \"e-lib\", \"e-flat\", 3, \"click\"]],\n      template: function ProposalComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"section\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"div\", 7)(4, \"ol\", 8)(5, \"li\", 9)(6, \"a\", 10);\n          i0.ɵɵelement(7, \"i\", 11);\n          i0.ɵɵtext(8, \"\\u00A0Dashboard\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"li\", 12);\n          i0.ɵɵtext(10, \"TMS Proposal\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(11, \"div\", 6)(12, \"div\", 13)(13, \"div\", 14)(14, \"h5\", 15);\n          i0.ɵɵtext(15, \"TMS Proposal\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 16)(17, \"div\", 6)(18, \"div\", 17)(19, \"Form\", 18)(20, \"div\", 19)(21, \"div\", 20)(22, \"div\", 6)(23, \"label\", 21);\n          i0.ɵɵtext(24, \"Date:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 22);\n          i0.ɵɵelement(26, \"ejs-datepicker\", 23);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(27, \"div\", 20)(28, \"div\", 6)(29, \"label\", 24);\n          i0.ɵɵtext(30, \"To:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"div\", 22);\n          i0.ɵɵelement(32, \"ejs-datepicker\", 25);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(33, \"div\", 26)(34, \"div\", 20)(35, \"div\", 6)(36, \"label\", 27);\n          i0.ɵɵtext(37, \"Dept Type:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 22);\n          i0.ɵɵelement(39, \"ejs-multiselect\", 28);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(40, \"div\", 29)(41, \"button\", 30);\n          i0.ɵɵlistener(\"click\", function ProposalComponent_Template_button_click_41_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.loadTableData());\n          });\n          i0.ɵɵelement(42, \"i\", 31);\n          i0.ɵɵtext(43, \" \\u00A0 View \");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(44, \"ejs-grid\", 32, 0);\n          i0.ɵɵlistener(\"actionBegin\", function ProposalComponent_Template_ejs_grid_actionBegin_44_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.actionBegin($event));\n          })(\"toolbarClick\", function ProposalComponent_Template_ejs_grid_toolbarClick_44_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.toolbarClick($event));\n          });\n          i0.ɵɵelementStart(46, \"e-columns\");\n          i0.ɵɵelement(47, \"e-column\", 33)(48, \"e-column\", 34)(49, \"e-column\", 35)(50, \"e-column\", 36)(51, \"e-column\", 37)(52, \"e-column\", 38)(53, \"e-column\", 39)(54, \"e-column\", 40)(55, \"e-column\", 41)(56, \"e-column\", 42)(57, \"e-column\", 43)(58, \"e-column\", 44);\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(59, \"ejs-dialog\", 45, 1);\n          i0.ɵɵtemplate(61, ProposalComponent_ng_template_61_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementStart(63, \"form\", 18)(64, \"div\", 6)(65, \"div\", 46)(66, \"label\", 47);\n          i0.ɵɵtext(67, \"Job Dept\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(68, \"ejs-dropdownlist\", 48);\n          i0.ɵɵelementStart(69, \"div\")(70, \"label\", 49);\n          i0.ɵɵtext(71, \"*Job Dept is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(72, \"div\", 46)(73, \"div\", 50)(74, \"input\", 51);\n          i0.ɵɵlistener(\"change\", function ProposalComponent_Template_input_change_74_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.handleFileInput($event.target.files));\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(75, \"span\", 52);\n          i0.ɵɵelementStart(76, \"label\", 53);\n          i0.ɵɵtext(77, \"Excel File\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(78, \"div\")(79, \"label\", 49);\n          i0.ɵɵtext(80, \"* Import file is required\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(81, ProposalComponent_ng_template_81_Template, 4, 1, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(83, \"ngx-spinner\", 54)(84, \"p\", 55);\n          i0.ɵɵtext(85, \" Loading... \");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"formGroup\", ctx.optionForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"format\", ctx.formatfilter);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"format\", ctx.formatfilter);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"dataSource\", ctx.deptTypeList)(\"mode\", ctx.mode)(\"placeholder\", ctx.placeholder)(\"selectAllText\", ctx.selectAllText);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.optionForm.valid);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"dataSource\", ctx.data)(\"allowResizing\", true)(\"allowSorting\", true)(\"allowPaging\", true)(\"pageSettings\", ctx.pageSettings)(\"editSettings\", ctx.editSettings)(\"allowExcelExport\", true)(\"toolbar\", ctx.toolbar)(\"gridLines\", ctx.lines);\n          i0.ɵɵadvance(15);\n          i0.ɵɵproperty(\"showCloseIcon\", true)(\"visible\", false);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formGroup\", ctx.closeForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"dataSource\", ctx.deptList);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"jobDept\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(9);\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"jobDept\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"fullScreen\", true);\n        }\n      },\n      dependencies: [TmsOperationModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.GridComponent, i5.ColumnDirective, i5.ColumnsDirective, i5.AggregateColumnDirective, i5.AggregateColumnsDirective, i6.DropDownListComponent, i7.DatePickerComponent, i8.DialogComponent, i6.MultiSelectComponent, i2.NgxSpinnerComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["TmsOperationModule","FormControl","FormGroup","Validators","catchError","of","moment","Swal","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProposalComponent_ng_template_81_Template_button_click_0_listener","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","onCloseFormSubmit","ProposalComponent_ng_template_81_Template_button_click_2_listener","closeModel_r4","ɵɵreference","hide","ɵɵproperty","closeForm","valid","ProposalComponent","constructor","service","spinner","router","pageSettings","pageSize","editSettings","allowAdding","allowDeleting","toolbar","text","tooltipText","prefixIcon","id","lines","submitClicked","formatfilter","deptTypeList","today","Date","placeholder","jobDeptList","deptList","driverList","ngOnInit","mode","selectAllText","optionForm","fromDate","sessionStorage","getItem","required","toDate","deptType","split","jobDept","file","uploadedFile","loadTableData","show","formData","value","format","setItem","dept","length","formatParams","getProposalList","pipe","err","showError","subscribe","result","grid","dataSource","actionBegin","args","requestType","navigate","cancel","data","propNo","deleteProposal","paramArray","map","item","join","handleFileInput","files","controls","setValue","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonText","confirmButtonText","then","response","status","showSuccess","messageContent","dismiss","DismissReason","close","completeProposal","user","FormData","append","statusChange","closeModel","message","createProposalDetail","msg","error","statusText","toolbarClick","excelExport","fileName","reset","selectedRecords","getSelectedRecords","localStorage","queryParams","validateControl","controlName","control","get","invalid","dirty","touched","ɵɵdirectiveInject","i1","ProposalService","i2","NgxSpinnerService","i3","Router","selectors","viewQuery","ProposalComponent_Query","rf","ctx","ɵɵelement","ProposalComponent_Template_button_click_41_listener","_r1","ProposalComponent_Template_ejs_grid_actionBegin_44_listener","$event","ProposalComponent_Template_ejs_grid_toolbarClick_44_listener","ɵɵtemplate","ProposalComponent_ng_template_61_Template","ɵɵtemplateRefExtractor","ProposalComponent_Template_input_change_74_listener","target","ProposalComponent_ng_template_81_Template","ɵɵadvance","ɵɵstyleProp","i4","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i5","GridComponent","ColumnDirective","ColumnsDirective","AggregateColumnDirective","AggregateColumnsDirective","i6","DropDownListComponent","i7","DatePickerComponent","i8","DialogComponent","MultiSelectComponent","NgxSpinnerComponent","styles"],"sources":["D:\\TMS\\TMS_Web\\src\\app\\tms-operation\\components\\proposal\\proposal.component.ts","D:\\TMS\\TMS_Web\\src\\app\\tms-operation\\components\\proposal\\proposal.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { TmsOperationModule } from '../../tms-operation.module';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { catchError, of,  } from 'rxjs';\r\nimport { ProposalService } from './proposal.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { Router } from '@angular/router';\r\nimport moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { ClickEventArgs } from '@syncfusion/ej2-angular-navigations';\r\nimport { DialogComponent } from '@syncfusion/ej2-angular-popups';\r\nimport { EditSettingsModel, GridComponent, GridLine, PageSettingsModel, SaveEventArgs } from '@syncfusion/ej2-angular-grids';\r\nimport { selfClosingTags } from '@syncfusion/ej2/richtexteditor';\r\n\r\n@Component({\r\n  selector: 'app-proposal',\r\n  standalone: true,\r\n  imports: [TmsOperationModule],\r\n  templateUrl: './proposal.component.html',\r\n  styleUrl: './proposal.component.scss'\r\n})\r\nexport class ProposalComponent {\r\n  pageSettings: PageSettingsModel = { pageSize: 50 };\r\n  editSettings: EditSettingsModel = {  allowAdding: true, allowDeleting: true };\r\n  toolbar: any[] = ['Add',\r\n  { text: \"Edit\", tooltipText: \"Edit\", prefixIcon: \"e-icons e-edit\", id: \"edit\" },\r\n   { text: \"Close Import\", tooltipText: \"Close Import\", prefixIcon: \"e-download\", id: \"close\" },\r\n  // { text: \"Customer\", tooltipText: \"Customer\", prefixIcon: \"e-icons e-circle-add\", id: \"customer\" },\r\n  { text: \"Truck Details\", tooltipText: \"Truck Details\", prefixIcon: \"e-icons e-selection\", id: \"detail\" },\r\n  { text: \"Complete\", tooltipText: \"Complete\", prefixIcon: \"e-icons e-check\", id: \"complete\" },\r\n  'Delete','ExcelExport','Search'];\r\n  lines: GridLine = 'Both';\r\n\r\n  closeForm:FormGroup;\r\n  optionForm: FormGroup;\r\n // customerForm:FormGroup;\r\n  submitClicked: boolean = false;\r\n  public formatfilter: any =\"MM/dd/yyyy\";\r\n  deptTypeList:any[]=[\"CCA\",\"Warehouse\",\"Rail\"];\r\n  today : Date = new Date();\r\n  public data: Object[];\r\n  public placeholder: string = 'Select One';\r\n  public mode?: string;\r\n  public selectAllText: string| any;\r\n  jobDeptList:any[]=[];\r\n  deptList:any[]=[\"CCA\",\"Warehouse\",\"Rail\"]\r\n  //truckList:any[]=[];\r\n  jobDept:string;\r\n // cusTruckList:any[]=[];\r\n  type:string;\r\n  driverList:any[]=[];\r\n  @ViewChild('Grid') public grid: GridComponent;\r\n  @ViewChild('closeModel') closeModel: DialogComponent;\r\n\r\n  constructor(\r\n    private service: ProposalService,\r\n    private spinner: NgxSpinnerService,\r\n    private router: Router,\r\n  ) {}\r\n\r\n  ngOnInit(){\r\n    // set the type of mode for checkbox to visualized the checkbox added in li element.\r\n    this.mode = 'CheckBox';\r\n    // set the select all text to MultiSelect checkbox label.\r\n    this.selectAllText= 'Select All';\r\n    //this.getLocationList();\r\n    this.optionForm = new FormGroup({\r\n      fromDate: new FormControl(sessionStorage.getItem(\"icfromDate\")?sessionStorage.getItem(\"icfromDate\"):this.today,Validators.required),\r\n      toDate: new FormControl(sessionStorage.getItem(\"ictoDate\")?sessionStorage.getItem(\"ictoDate\"):this.today,Validators.required),\r\n      deptType: new FormControl(sessionStorage.getItem(\"deptType\")?sessionStorage.getItem(\"deptType\").split(','):null,Validators.required),\r\n    });\r\n\r\n\r\n    this.closeForm = new FormGroup({\r\n      jobDept:new FormControl('',Validators.required),\r\n      file: new FormControl('',Validators.required),\r\n      uploadedFile: new FormControl(''),\r\n      });\r\n\r\n    //this.loadTableData();\r\n   // this.getCusTruckList();\r\n  }\r\n\r\n  // getCusTruckList(){\r\n  //   this.service.getCusTruckList()\r\n  //   .pipe(catchError((err) => of(this.showError(err))))\r\n  //     .subscribe((result) => {\r\n  //       this.cusTruckList= result;\r\n  //       this.spinner.hide();\r\n  //   });\r\n  // }\r\n\r\n\r\n\r\n  loadTableData() {\r\n   this.spinner.show();\r\n   const formData = this.optionForm.value;\r\n   const fromDate = moment(formData.fromDate).format('MM/DD/YYYY');\r\n   const toDate =  moment(formData.toDate).format('MM/DD/YYYY');\r\n    sessionStorage.setItem(\"icfromDate\", fromDate);\r\n    sessionStorage.setItem(\"ictoDate\", toDate);\r\n    sessionStorage.setItem(\"deptType\", formData.deptType);\r\n    let dept:any =\"\";\r\n    if(formData.deptType.length>0){\r\n      dept = this.formatParams(formData.deptType);\r\n    }\r\n    if(fromDate&&toDate&&dept){\r\n      this.service.getProposalList(fromDate,toDate,dept)\r\n      .pipe(catchError((err) => of(this.showError(err))))\r\n        .subscribe((result) => {\r\n          this.grid.dataSource= result;\r\n          this.spinner.hide();\r\n      });\r\n    }\r\n    this.spinner.hide();\r\n\r\n  }\r\n\r\n  actionBegin(args: SaveEventArgs): void {\r\n    if (args.requestType === 'add') {\r\n        this.submitClicked = false;\r\n        this.router.navigate([\"/tms-operation/proposal-form\"]);\r\n    }\r\n    if (args.requestType === 'delete') {\r\n      args.cancel = true;\r\n      const data = args.data as any[];\r\n      const id = data[0].propNo;\r\n      this.deleteProposal(id);\r\n    }\r\n  }\r\n\r\n  formatParams(paramArray) {\r\n    return paramArray.map(item => `'${item}'`).join(',');\r\n  }\r\n\r\n  handleFileInput(files: FileList) {\r\n    if (files.length > 0) {\r\n      this.closeForm.controls['uploadedFile'].setValue(files.item(0));\r\n    }\r\n  }\r\n\r\n\r\n  deleteProposal(id: any) {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'You will not be able to recover this data!',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#DD6B55',\r\n      cancelButtonText: 'No, keep it',\r\n      confirmButtonText: 'Yes, I am sure!',\r\n    }).then((response: any) => {\r\n      if (response.value) {\r\n        this.spinner.show();\r\n        this.service\r\n          .deleteProposal(id)\r\n          .pipe(catchError((err) => of(this.showError(err))))\r\n          .subscribe((result) => {\r\n            if (result.status == true) {\r\n              this.showSuccess(result.messageContent);\r\n              this.loadTableData();\r\n            } else {\r\n              this.spinner.hide();\r\n              Swal.fire('TMS Proposal', result.messageContent, 'error');\r\n            }\r\n          });\r\n      } else if (response.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  completeProposal(id: any,user:string) {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This proposal will be completed!',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: 'blue',\r\n      cancelButtonText: 'No, keep it',\r\n      confirmButtonText: 'Yes, I am sure!',\r\n    }).then((response: any) => {\r\n      if (response.value) {\r\n        this.spinner.show();\r\n        this.service\r\n          .completeProposal(id,user)\r\n          .pipe(catchError((err) => of(this.showError(err))))\r\n          .subscribe((result) => {\r\n            if (result.status == true) {\r\n              this.showSuccess(result.messageContent);\r\n              this.loadTableData();\r\n            } else {\r\n              this.spinner.hide();\r\n              Swal.fire('TMS Proposal', result.messageContent, 'error');\r\n            }\r\n          });\r\n      } else if (response.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  onCloseFormSubmit(){\r\n    const data = this.closeForm.value;\r\n    const formData = new FormData();\r\n    formData.append(\"UploadedFile\", data.uploadedFile);\r\n    formData.append(\"JobDept\", data.jobDept);\r\n    this.statusChange(formData);\r\n  }\r\n\r\n  statusChange(formData: any) {\r\n    this.closeModel.hide();\r\n    this.spinner.show();\r\n    this.service\r\n    .statusChange(formData)\r\n    .pipe(catchError((err) => of(this.showError(err))))\r\n    .subscribe((result) => {\r\n      if (result.status == true) {\r\n        Swal.fire('Proposal', result.message+'Job Code '+result.messageContent, 'success');\r\n        this.loadTableData();\r\n      } else {\r\n        this.spinner.hide();\r\n        Swal.fire('Proposal', result.messageContent, 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n  createProposalDetail(formData: any) {\r\n    this.spinner.show();\r\n    this.service\r\n    .createProposalDetail(formData)\r\n    .pipe(catchError((err) => of(this.showError(err))))\r\n    .subscribe((result) => {\r\n      if (result.status == true) {\r\n        this.showSuccess(result.messageContent);\r\n        this.router.navigate([\"/tms-operation/proposal\"]);\r\n      } else {\r\n        this.spinner.hide();\r\n        Swal.fire('Proposal', result.messageContent, 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n  showSuccess(msg: string) {\r\n    this.spinner.hide();\r\n    Swal.fire('TMS Proposal', msg, 'success');\r\n  }\r\n\r\n  showError(error: HttpErrorResponse) {\r\n    this.spinner.hide();\r\n    Swal.fire('TMS Proposal', error.statusText, 'error');\r\n  }\r\n\r\n  toolbarClick(args: ClickEventArgs): void {\r\n    if(args.item.text === 'Excel Export'){\r\n      this.grid.excelExport({\r\n        fileName:'Proposal.xlsx',\r\n     });\r\n    }\r\n\r\n    if(args.item.id==='close'){\r\n      this.closeForm.reset();\r\n      this.closeForm.controls['jobDept'].setValue(this.jobDept);\r\n      this.closeModel.show();\r\n\r\n    }\r\n\r\n    if (args.item.id === 'detail' || args.item.id==='edit' || args.item.id==='complete') {\r\n\r\n      let selectedRecords: any[] = this.grid.getSelectedRecords();\r\n      if (selectedRecords.length == 0) {\r\n        Swal.fire('TMS Proposal', \"Please select one row!\", 'warning');\r\n      }\r\n      else {\r\n        const id = selectedRecords[0].propNo;\r\n        this.jobDept=selectedRecords[0].jobDept;\r\n        const user = localStorage.getItem('currentUser');\r\n        if (args.item.id === 'detail')\r\n        {\r\n          this.router.navigate([\"/tms-operation/proposal-detail\"], { queryParams: { id: id}});\r\n          return;\r\n        }\r\n        else if(args.item.id==='edit'){\r\n          this.router.navigate([\"/tms-operation/proposal-form\"],{ queryParams: { id: id}});\r\n        }\r\n        else if(args.item.id==='complete'){\r\n          this.completeProposal(id,user);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // onAssignTypeChange(type:string){\r\n  // if(type!=null && this.jobDept!=null){\r\n  //   this.type=type;\r\n  //   if(this.jobDept==\"CCA\"){\r\n  //     this.jobTypeList=[];\r\n  //     this.jobTypeList=['Import','Export']\r\n  //   }\r\n  //   else if(this.jobDept==\"Warehouse\"){\r\n  //     this.jobTypeList=[];\r\n  //     this.jobTypeList=['WH Pick Up','WH Delivery','Bonded Delivery','Bonded Transport','Import','Export']\r\n  //   }\r\n  //   else{//Rail\r\n  //     this.jobTypeList=[];\r\n  //     this.jobTypeList=['Rail Delivery','Rail Pick Up'];\r\n  //   }\r\n  // }\r\n  // }\r\n\r\n  // onJobTypeChange(jobType:string){\r\n  //   if(this.type==null){\r\n  //     Swal.fire(\"Proposal\",\"Please Select type!\",\"warning\");\r\n  //     return;\r\n  //   }\r\n  //   if(this.type!=null && jobType!=null){\r\n  //    this.service\r\n  //    .getTruckList(this.type,jobType)\r\n  //    .pipe(catchError((err) => of(this.showError(err))))\r\n  //    .subscribe((result) => {\r\n  //     this.truckList=result;\r\n  //   });\r\n  //   }\r\n  // }\r\n\r\n\r\n\r\n  // onCusTruckChange(truckNo:string){\r\n  //   let truckInfo=this.cusTruckList.filter(t=>t.vehicleRegNo==truckNo);\r\n  //   this.getCusDriverList(truckInfo[0].driverLicenseNo);\r\n  // }\r\n\r\n  validateControl(controlName: string) {\r\n    const control = this.closeForm.get(controlName);\r\n    return (control.invalid && (control.dirty || control.touched)) || (control.invalid && this.submitClicked);\r\n  }\r\n}\r\n","<section class=\"content mt-0\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 \">\r\n        <ol class=\"breadcrumb\">\r\n          <li class=\"breadcrumb-item\"><a routerLink=\"/\" routerLinkActive=\"active\"><i class=\"nav-icon fas fa-tachometer-alt\"></i>&nbsp;Dashboard</a></li>\r\n          <li class=\"breadcrumb-item active text-primary\">TMS Proposal</li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"card card-primary card-outline\">\r\n        <div class=\"card-header\">\r\n          <h5 class=\"card-title\">TMS Proposal</h5>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12 col-lg-12 text-left\">\r\n              <Form [formGroup]=\"optionForm\">\r\n                <div class=\"row btns mb-2\">\r\n                   <div class=\"col-lg-5 col-12\">\r\n                     <div class=\"row\">\r\n                       <label for=\"fromDate\" class=\"col-sm-4 col-form-label requiredfield\">Date:</label>\r\n                       <div class=\"col-sm-8 p-0\">\r\n                          <ejs-datepicker formControlName=\"fromDate\" [format]=\"formatfilter\" floatLabelType='Always'>\r\n                          </ejs-datepicker>\r\n                       </div>\r\n                      </div>\r\n                     </div>\r\n                     <div class=\"col-lg-5 col-12\">\r\n                     <div class=\"row\">\r\n                       <label for=\"toDate\" class=\"col-sm-4 col-form-label requiredfield\">To:</label>\r\n                       <div class=\"col-sm-8 p-0\">\r\n                       <ejs-datepicker formControlName=\"toDate\"   [format]=\"formatfilter\"   floatLabelType='Always'>\r\n                       </ejs-datepicker>\r\n                       </div>\r\n                      </div>\r\n                     </div>\r\n                    </div>\r\n                    <div class=\"row mb-2\">\r\n                     <div class=\"col-lg-5 col-12\">\r\n                       <div class=\"row\">\r\n                          <label class=\"col-sm-4 col-form-label requiredfield\">Dept Type:</label>\r\n                          <div class=\"col-sm-8 p-0\">\r\n                             <ejs-multiselect formControlName=\"deptType\" [dataSource]='deptTypeList'  tabindex=\"4\" [mode]='mode' [placeholder]='placeholder' [selectAllText]='selectAllText' showSelectAll=true></ejs-multiselect>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-lg-2 col-12 justify-content-end\">\r\n                        <button type=\"button\" class=\"btn btn-sm btn-primary\" [disabled]=\"!optionForm.valid\" (click)=\"loadTableData()\">\r\n                          <i class=\"fas fa-eye\"></i> &nbsp; View\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </Form>\r\n              </div>\r\n          </div>\r\n          <ejs-grid #Grid [dataSource]=\"data\" [allowResizing]=\"true\" [allowSorting]=\"true\" [allowPaging]=\"true\"  [pageSettings]='pageSettings' [editSettings]=\"editSettings\"  [allowExcelExport]='true' [toolbar]=\"toolbar\" (actionBegin)='actionBegin($event)' (toolbarClick)='toolbarClick($event)' [gridLines]=\"lines\">\r\n            <e-columns>\r\n              <e-column field='yard' headerText=\"Yard\" width=\"100\"></e-column>\r\n              <e-column field='estDate' headerText='Estimate Date' type=\"date\" format=\"dd-MM-yyyy\" width=\"130\"></e-column>\r\n              <e-column field='jobCode' headerText=\"JobCode\" width=\"100\"></e-column>\r\n              <e-column field='jobDept' headerText=\"JobDept\" width=\"150\"></e-column>\r\n              <e-column field='jobType' headerText=\"JobType\" width=\"100\"></e-column>\r\n              <e-column field='noOfTruck' headerText=\"NoOfTruck\" width=\"100\"></e-column>\r\n              <e-column field='noOfTEU' headerText=\"NoOfTEU\" width=\"100\"></e-column>\r\n              <e-column field='noOfFEU' headerText=\"NoOfFEU\" width=\"100\"></e-column>\r\n              <e-column field='lclQty' headerText=\"LCLQty\" width=\"100\"></e-column>\r\n              <e-column field='areaID' headerText=\"Operation Area\" width=\"250\"></e-column>\r\n              <e-column field='pcCode' headerText=\"Category\" width=\"100\"></e-column>\r\n              <e-column field='status' headerText=\"Status\" width=\"100\"></e-column>\r\n            </e-columns>\r\n          </ejs-grid>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  </div>\r\n\r\n  <ejs-dialog #closeModel isModal=\"true\"  [showCloseIcon]=\"true\" height=\"48%\" width=\"500px\"  allowDragging=\"true\" [visible]=\"false\">\r\n    <ng-template #header>\r\n      <div class=\"font-weight-bold\">Status Close Form</div>\r\n    </ng-template>\r\n    <form [formGroup]=\"closeForm\">\r\n    <div class=\"row\">\r\n      <div class=\"form-group col-md-12\">\r\n        <label  class=\"requiredfield\">Job Dept</label>\r\n        <ejs-dropdownlist formControlName=\"jobDept\" tabindex=\"3\" [dataSource]=\"deptList\"  popupHeight='200px' placeholder=\"Select One\" ></ejs-dropdownlist>\r\n        <div [style.visibility]='validateControl(\"jobDept\")? \"visible\": \"hidden\"'>\r\n          <label class=\"e-error\" style=\"display: block;\">*Job Dept is required</label>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group col-md-12\">\r\n        <div class=\"e-float-input e-control-wrapper\">\r\n          <input formControlName=\"file\" id=\"file\" type=\"file\" accept=\".xlsx\" (change)=\"handleFileInput($any($event.target).files)\" style=\"padding-top: 2px;\">\r\n          <span class=\"e-float-line\"></span>\r\n          <label class=\"e-float-text e-label-top requiredfield\" for=\"file\">Excel File</label>\r\n        </div>\r\n        <div [style.visibility]='validateControl(\"jobDept\")? \"visible\": \"hidden\"'>\r\n          <label class=\"e-error\" style=\"display: block;\">* Import file is required</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n      <ng-template #footerTemplate>\r\n        <button  class=\"e-edit-dialog e-control e-btn e-lib e-primary e-flat\" type=\"submit\" [disabled]=\"!this.closeForm.valid\"  ejs-button (click)=\"onCloseFormSubmit()\">Save</button>\r\n        <button  class=\"e-edit-dialog e-control e-btn e-lib e-flat\" (click)=\"closeModel.hide()\" ejs-button >Close</button>\r\n      </ng-template>\r\n    </form>\r\n  </ejs-dialog>\r\n\r\n  <!-- <ejs-dialog #customerModel isModal=\"true\"  [showCloseIcon]=\"true\" height=\"67%\" width=\"700px\"  allowDragging=\"true\" [visible]=\"false\">\r\n    <ng-template #header>\r\n      <div class=\"font-weight-bold\">Detail Form Customer</div>\r\n    </ng-template>\r\n    <form [formGroup]=\"customerForm\">\r\n    <div class=\"row\">\r\n      <div class=\"form-group col-md-6\">\r\n        <label  class=\"requiredfield\">Assign Type</label>\r\n        <ejs-textbox  formControlName=\"assignType\" [readonly]=\"true\" tabindex=\"1\" ></ejs-textbox>\r\n        <div [style.visibility]='customerValidateControl(\"assignType\")? \"visible\": \"hidden\"'>\r\n          <label class=\"e-error\" style=\"display: block;\">*Assign Type is required</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-md-6\">\r\n        <label  class=\"requiredfield\">Job Type</label>\r\n        <ejs-textbox  formControlName=\"jobType\" maxLength=\"50\" tabindex=\"2\" ></ejs-textbox>\r\n        <div [style.visibility]='customerValidateControl(\"jobType\")? \"visible\": \"hidden\"'>\r\n          <label class=\"e-error\" style=\"display: block;\">*Jobtype is required</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-md-6\">\r\n        <label  class=\"requiredfield\">TruckNo</label>\r\n        <ejs-dropdownlist formControlName=\"truckNo\" tabindex=\"2\" [dataSource]='cusTruckList' [fields]=\"{ text: 'vehicleRegNo', value: 'vehicleRegNo' }\" (change)=\"onCusTruckChange($event.value)\"></ejs-dropdownlist>\r\n        <div [style.visibility]='customerValidateControl(\"truckNo\")? \"visible\": \"hidden\"'>\r\n          <label class=\"e-error\" style=\"display: block;\">*Truck No is required</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-md-6\" >\r\n        <label  class=\"requiredfield\">Driver Name</label>\r\n        <ejs-textbox  formControlName=\"driverName\" [readonly]=\"true\" tabindex=\"3\" ></ejs-textbox>\r\n      </div>\r\n      <div class=\"form-group col-md-6\" >\r\n        <label  class=\"requiredfield\">Driver Contact</label>\r\n        <ejs-textbox  formControlName=\"driverContact\" [readonly]=\"true\" tabindex=\"4\" ></ejs-textbox>\r\n      </div>\r\n      <div class=\"form-group col-md-6\" >\r\n        <label>OtherInfo</label>\r\n        <ejs-textbox  formControlName=\"otherInfo\" tabindex=\"6\" ></ejs-textbox>\r\n      </div>\r\n      <div class=\"form-group col-md-6\">\r\n        <div class=\"mb-2 mt-4\">\r\n          <ejs-checkbox formControlName=\"nightStop\" label=\"Night Stop\"></ejs-checkbox>\r\n        </div>\r\n      </div>\r\n     </div>\r\n      <ng-template #footerTemplate>\r\n        <button  class=\"e-edit-dialog e-control e-btn e-lib e-primary e-flat\" type=\"submit\" [disabled]=\"!this.customerForm.valid\"  ejs-button (click)=\"onCustomerSubmit()\">Save</button>\r\n        <button  class=\"e-edit-dialog e-control e-btn e-lib e-flat\" (click)=\"customerModel.hide()\" ejs-button >Close</button>\r\n      </ng-template>\r\n    </form>\r\n  </ejs-dialog> -->\r\n</section>\r\n<ngx-spinner bdColor = \"rgba(0, 0, 0, 0.8)\" size = \"medium\" color = \"#fff\" type = \"square-jelly-box\" [fullScreen] = \"true\"><p style=\"color: white\" > Loading... </p></ngx-spinner>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}