{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { catchError, of } from 'rxjs';\nimport Swal from 'sweetalert2';\nimport { TmsOperationModule } from '../../tms-operation.module';\nimport moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../proposal/proposal.service\";\nimport * as i2 from \"ngx-spinner\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@syncfusion/ej2-angular-dropdowns\";\nimport * as i7 from \"@syncfusion/ej2-angular-inputs\";\nimport * as i8 from \"@syncfusion/ej2-angular-calendars\";\nimport * as i9 from \"@syncfusion/ej2-angular-popups\";\nconst _c0 = [\"Grid\"];\nconst _c1 = () => ({\n  text: \"yardID\",\n  value: \"yardID\"\n});\nconst _c2 = () => ({\n  text: \"cardNo\",\n  value: \"cardNo\"\n});\nconst _c3 = () => ({\n  text: \"jobCode\",\n  value: \"jobCode\"\n});\nconst _c4 = () => ({\n  text: \"weightBridgeID\",\n  value: \"weightBridgeID\"\n});\nfunction ProposalFormComponent_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function ProposalFormComponent_button_22_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFormSubmit());\n    });\n    i0.ɵɵelement(1, \"i\", 48);\n    i0.ɵɵtext(2, \" \\u00A0Save\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.proposalForm.valid);\n  }\n}\nfunction ProposalFormComponent_ejs_textbox_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ejs-textbox\", 49);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"readonly\", true);\n  }\n}\nfunction ProposalFormComponent_ejs_dropdownlist_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ejs-dropdownlist\", 50);\n    i0.ɵɵlistener(\"change\", function ProposalFormComponent_ejs_dropdownlist_46_Template_ejs_dropdownlist_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onjobDeptChange($event.value));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.jobDeptList);\n  }\n}\nfunction ProposalFormComponent_ejs_textbox_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ejs-textbox\", 51);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"readonly\", true);\n  }\n}\nfunction ProposalFormComponent_ejs_dropdownlist_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ejs-dropdownlist\", 52);\n    i0.ɵɵlistener(\"change\", function ProposalFormComponent_ejs_dropdownlist_54_Template_ejs_dropdownlist_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onJobTypeChange($event.value));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.jobTypeList);\n  }\n}\nfunction ProposalFormComponent_ejs_textbox_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ejs-textbox\", 53);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"readonly\", true);\n  }\n}\nfunction ProposalFormComponent_ejs_dropdownlist_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ejs-dropdownlist\", 54);\n    i0.ɵɵlistener(\"change\", function ProposalFormComponent_ejs_dropdownlist_62_Template_ejs_dropdownlist_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onJobCodeChange($event.value));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.jobIdList)(\"fields\", i0.ɵɵpureFunction0(2, _c3));\n  }\n}\nfunction ProposalFormComponent_ng_template_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55);\n    i0.ɵɵtext(1, \"Assign Card Form\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProposalFormComponent_div_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"label\", 42);\n    i0.ɵɵtext(2, \"In Weight Bridge\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"ejs-dropdownlist\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.wbList)(\"fields\", i0.ɵɵpureFunction0(3, _c4))(\"allowFiltering\", true);\n  }\n}\nfunction ProposalFormComponent_div_112_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"label\", 42);\n    i0.ɵɵtext(2, \"Out Weight Bridge\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"ejs-dropdownlist\", 57);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.wbList)(\"fields\", i0.ɵɵpureFunction0(3, _c4))(\"allowFiltering\", true);\n  }\n}\nfunction ProposalFormComponent_ng_template_113_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function ProposalFormComponent_ng_template_113_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFormAssignCard());\n    });\n    i0.ɵɵtext(1, \"Valid\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ProposalFormComponent_ng_template_113_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      i0.ɵɵnextContext();\n      const cardModel_r7 = i0.ɵɵreference(102);\n      return i0.ɵɵresetView(cardModel_r7.hide());\n    });\n    i0.ɵɵtext(3, \"Close\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.cardForm.valid);\n  }\n}\nexport class ProposalFormComponent {\n  constructor(service, spinner, route, router) {\n    this.service = service;\n    this.spinner = spinner;\n    this.route = route;\n    this.router = router;\n    this.pageSettings = {\n      pageSize: 10\n    };\n    this.editSettings = {\n      allowEditing: false,\n      allowAdding: false,\n      allowDeleting: true,\n      mode: 'Dialog'\n    };\n    this.toolbar = [{\n      text: \"Checked\",\n      tooltipText: \"Checked\",\n      prefixIcon: \"e-icons e-check\",\n      id: \"check\"\n    }, 'Search'];\n    this.lines = 'Both';\n    this.submitClicked = false;\n    this.format1 = 'dd-MMM-yy hh:mm a';\n    this.cargoTypeList = ['Laden', 'MT'];\n    this.typeList = ['FCL', 'LCL'];\n    this.yardList = [];\n    this.gateList = [];\n    this.wbList = [];\n    this.truckList = [];\n    this.trailerList = [];\n    this.driverList = [];\n    this.transporterList = [];\n    this.areaList = [];\n    this.pcCodeList = [];\n    this.docList = [];\n    this.cardList = [];\n    this.truckTypeList = ['RG', 'Customer', 'Supplier'];\n    this.endDate = new Date();\n    this.isInWb = false;\n    this.isOutWb = false;\n    this.today = new Date();\n    this.placeholder = 'Select One';\n    this.filterPlaceholder = 'Search';\n    this.jobDeptList = [\"CCA\", \"Rail\", \"Warehouse\"];\n    this.jobTypeList = [];\n    this.jobIdList = [];\n    this.customerList = [];\n  }\n  ngOnInit() {\n    this.id = this.route.snapshot.queryParams['id'];\n    this.proposalForm = new FormGroup({\n      propNo: new FormControl(''),\n      yard: new FormControl('', Validators.required),\n      estDate: new FormControl(this.today, Validators.required),\n      jobDept: new FormControl('', Validators.required),\n      jobType: new FormControl('', Validators.required),\n      jobCode: new FormControl('', Validators.required),\n      noOfTEU: new FormControl(''),\n      noOfFEU: new FormControl(''),\n      lclQty: new FormControl(''),\n      customerId: new FormControl('', Validators.required),\n      customerName: new FormControl('', Validators.required),\n      companyName: new FormControl(''),\n      cargoInfo: new FormControl('')\n    });\n    this.cardForm = new FormGroup({\n      inRegNo: new FormControl(''),\n      cardNo: new FormControl('', Validators.required),\n      inWeightBridgeID: new FormControl(''),\n      outWeightBridgeID: new FormControl('')\n    });\n    this.getLocationList();\n    this.getCustomerList();\n  }\n  getLocationList() {\n    this.spinner.show();\n    this.service.getYardList('true').pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      this.yardList = result;\n      this.spinner.hide();\n    });\n  }\n  getCustomerList() {\n    this.spinner.show();\n    this.service.getCustomerList().pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      this.customerList = result;\n      this.spinner.hide();\n    });\n  }\n  onjobDeptChange(id) {\n    if (id == \"Rail\") {\n      this.jobTypeList = [];\n      this.jobTypeList = [\"Pick Up\", \"Receive BC\", \"Receive GC\", \"Receive SC\", \"Delivery\", \"Issue BC\", \"Issue GC\", \"Issue SC\"];\n    } else if (id == \"Warehouse\") {\n      this.jobTypeList = [];\n      this.jobTypeList = [\"Inbound\", \"Outbound\"];\n    } else {\n      this.jobTypeList = [];\n      this.jobTypeList = [\"Import\", \"Ex Bond\", \"Export\", \"Into Bond\"];\n    }\n  }\n  onJobTypeChange(jobType) {\n    let formData = this.proposalForm.value;\n    const sDate = moment(formData.estDate).format('MM/DD/YYYY');\n    const jDept = formData.jobDept;\n    this.yard = formData.yard;\n    if (jDept == \"Rail\") {\n      this.service.getRailDailyJobList(sDate, jobType, this.yard).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n        this.jobIdList = [];\n        this.jobIdList = result;\n      });\n    } else if (jDept == \"Warehouse\") {\n      this.service.getWHDailyJobList(sDate, jobType).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n        this.jobIdList = [];\n        this.jobIdList = result;\n      });\n    } else {\n      this.service.getCCADailyJobList(sDate, jobType).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n        this.jobIdList = [];\n        this.jobIdList = result;\n      });\n    }\n  }\n  onJobCodeChange(code) {\n    const newJobCodeList = this.jobIdList.filter(i => i.jobCode == code);\n    if (newJobCodeList[0].customerId) {\n      this.proposalForm.controls['customerId'].setValue(newJobCodeList[0].customerId);\n      const cusName = this.customerList.filter(c => c.customerId == newJobCodeList[0].customerId);\n      this.proposalForm.controls['customerName'].setValue(cusName[0].name);\n      this.proposalForm.controls['companyName'].setValue(cusName[0].groupName);\n    }\n  }\n  rowDataBound(args) {\n    if (args.row) {\n      //args.isSelectable = args.data.status === 'Draft';\n      if (args.data.checkStatus) {\n        args.row.classList.add('bluegreen');\n      }\n    }\n  }\n  getInBoundCheckById() {\n    this.spinner.show();\n    this.service.getInBoundCheckById(this.id).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      this.docList = result.documentList;\n      this.detailData = result;\n      for (let key in this.detailData) {\n        if (this.detailData.hasOwnProperty(key) && this.detailData[key] != null && this.proposalForm.controls[key]) {\n          if (key != 'documentList') {\n            this.proposalForm.controls[key].setValue(this.detailData[key]);\n          }\n        }\n      }\n    });\n    this.spinner.hide();\n  }\n  onFormAssignCard() {\n    const formData = this.proposalForm.value;\n    const cardForm = this.cardForm.value;\n    formData.cardNo = cardForm.cardNo;\n    formData.inWeightBridgeID = cardForm.inWeightBridgeID;\n    formData.outWeightBridgeID = cardForm.outWeightBridgeID;\n    formData.documentList = this.docList;\n    formData.inRegNo = 0;\n    formData.createdUser = localStorage.getItem('currentUser');\n    if (this.transporterList) {\n      const transporter = this.transporterList.filter(x => x.transporterID == formData.transporterID);\n      if (transporter.length > 0) {\n        formData.transporterName = transporter[0].transporterName;\n      }\n    }\n    if (this.driverList.length > 0) {\n      const driver = this.driverList.filter(x => x.licenseNo == formData.driverLicenseNo);\n      if (driver.length > 0) {\n        formData.driverName = driver[0].name;\n        formData.driverContactNo = driver[0].contactNo;\n      }\n    }\n    if (this.isInWb) {\n      if (!cardForm.inWeightBridgeID) {\n        Swal.fire('In Check Document', 'Please add In Weight Bridge.', 'warning');\n        return;\n      }\n    }\n    if (this.isOutWb) {\n      if (!cardForm.outWeightBridgeID) {\n        Swal.fire('In Check Document', 'Please add Out Weight Bridge.', 'warning');\n        return;\n      }\n    }\n    console.log(formData);\n    this.createInBoundCheck(formData);\n  }\n  onFormSubmit() {\n    this.spinner.show();\n    const formData = this.proposalForm.value;\n    formData.propNo = 1;\n    this.addTMSProposal(formData);\n  }\n  addTMSProposal(formData) {\n    this.service.addTMSProposal(formData).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      if (result.status == true) {\n        this.showSuccess(result.messageContent);\n        this.router.navigate([\"/tms-operation/proposal\"]);\n      } else {\n        this.spinner.hide();\n        Swal.fire('Proposal', result.messageContent, 'error');\n      }\n    });\n  }\n  onBackSubmit() {\n    this.router.navigate([\"/tms-operation/in-check\"]);\n  }\n  createInBoundCheck(formData) {\n    this.spinner.show();\n    this.service.createOutBoundCheck(formData).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      if (result.status == true) {\n        this.showSuccess(result.messageContent);\n        this.router.navigate([\"/tms-operation/in-check\"]);\n      } else {\n        this.spinner.hide();\n        Swal.fire('In Check Document', result.messageContent, 'error');\n      }\n    });\n  }\n  onTruckChange(id) {\n    const truck = this.truckList.filter(x => x.vehicleRegNo == id);\n    if (this.driverList) {\n      const driver = this.driverList.filter(x => x.licenseNo == truck[0].driverLicenseNo);\n      if (driver.length > 0) {\n        this.proposalForm.controls['driverLicenseNo'].setValue(truck[0].driverLicenseNo ? truck[0].driverLicenseNo : null);\n      }\n    }\n    this.proposalForm.controls['transporterID'].setValue(truck[0].transporterID ? truck[0].transporterID : null);\n  }\n  showError(error) {\n    this.spinner.hide();\n    Swal.fire('TMS Proposal', error.statusText, 'error');\n  }\n  showSuccess(msg) {\n    this.spinner.hide();\n    Swal.fire('TMS Proposal', msg, 'success');\n  }\n  validateControl(controlName) {\n    const control = this.proposalForm.get(controlName);\n    return control.invalid && (control.dirty || control.touched) || control.invalid && this.submitClicked;\n  }\n  toolbarClick(args) {\n    if (args.item.id === 'check') {\n      let selectedRecords = this.grid.getSelectedRecords();\n      if (selectedRecords.length == 0) {\n        Swal.fire('Check Document', \"Please select one row!\", 'warning');\n      } else {\n        if (args.item.id === 'check') {\n          for (var i = 0; i < selectedRecords.length; i++) {\n            this.docList = this.docList.map(x => {\n              if (x.docCode === selectedRecords[i].docCode) {\n                return {\n                  ...x,\n                  docCode: selectedRecords[i].docCode,\n                  docName: selectedRecords[i].docName,\n                  checkStatus: true\n                }; //update data\n              } else {\n                return x; // Keep other objects unchanged\n              }\n            });\n          }\n        }\n        return;\n      }\n    }\n  }\n  static {\n    this.ɵfac = function ProposalFormComponent_Factory(t) {\n      return new (t || ProposalFormComponent)(i0.ɵɵdirectiveInject(i1.ProposalService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProposalFormComponent,\n      selectors: [[\"app-proposal-form\"]],\n      viewQuery: function ProposalFormComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.grid = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 118,\n      vars: 39,\n      consts: [[\"cardModel\", \"\"], [\"header\", \"\"], [\"footerTemplate\", \"\"], [1, \"content\", \"mt-0\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/dashboard\", \"routerLinkActive\", \"active\"], [1, \"nav-icon\", \"fas\", \"fa-tachometer-alt\"], [1, \"breadcrumb-item\", \"active\", \"text-primary\"], [1, \"card\", \"card-primary\", \"card-outline\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"col-md-6\", \"col-lg-6\", \"text-left\"], [1, \"card-title\"], [1, \"col-md-6\", \"col-lg-6\", \"text-end\"], [\"type\", \"submit\", \"class\", \"btn btn-sm btn-primary mr-2 \", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"href\", \"/tms-operation/propal\", 1, \"btn\", \"btn-sm\", \"btn-secondary\", \"m-1\"], [1, \"fa\", \"fa-arrow-circle-left\"], [1, \"form-group\", \"col-md-4\"], [1, \"font-weight-normal\", \"requiredfield\"], [\"formControlName\", \"yard\", \"tabindex\", \"1\", \"placeholder\", \"Select One\", \"popupHeight\", \"200px\", 3, \"dataSource\", \"fields\"], [1, \"e-error\", 2, \"display\", \"block\"], [\"formControlName\", \"estDate\", \"autocomplete\", \"off\", \"tabindex\", \"5\", 3, \"format\"], [\"formControlName\", \"jobDept\", \"tabindex\", \"2\", 3, \"readonly\", 4, \"ngIf\"], [\"formControlName\", \"jobDept\", \"tabindex\", \"2\", \"popupHeight\", \"200px\", \"placeholder\", \"Select One\", 3, \"dataSource\", \"change\", 4, \"ngIf\"], [\"formControlName\", \"jobType\", \"tabindex\", \"4\", 3, \"readonly\", 4, \"ngIf\"], [\"formControlName\", \"jobType\", \"tabindex\", \"4\", 3, \"dataSource\", \"change\", 4, \"ngIf\"], [\"formControlName\", \"jobCode\", \"tabindex\", \"6\", 3, \"readonly\", 4, \"ngIf\"], [\"formControlName\", \"jobCode\", \"tabindex\", \"6\", \"placeholder\", \"Select One\", 3, \"dataSource\", \"fields\", \"change\", 4, \"ngIf\"], [\"formControlName\", \"customerId\", \"tabindex\", \"6\", 3, \"readonly\"], [\"formControlName\", \"customerName\", \"tabindex\", \"6\", 3, \"readonly\"], [1, \"form-group\", \"col-md-8\"], [\"formControlName\", \"companyName\", \"tabindex\", \"6\", 3, \"readonly\"], [\"formControlName\", \"noOfTEU\", \"tabindex\", \"6\"], [\"formControlName\", \"noOfFEU\", \"tabindex\", \"6\"], [\"formControlName\", \"lclQty\", \"tabindex\", \"6\"], [\"formControlName\", \"cargoInfo\", \"tabindex\", \"6\"], [\"isModal\", \"true\", \"height\", \"55%\", \"width\", \"400px\", \"allowDragging\", \"true\", 3, \"showCloseIcon\", \"visible\"], [1, \"form-group\", \"col-md-12\"], [1, \"requiredfield\"], [\"formControlName\", \"cardNo\", \"tabindex\", \"1\", \"placeholder\", \"Select One\", 3, \"dataSource\", \"fields\", \"allowFiltering\"], [\"class\", \"form-group col-md-12\", 4, \"ngIf\"], [\"bdColor\", \"rgba(0, 0, 0, 0.8)\", \"size\", \"medium\", \"color\", \"#fff\", \"type\", \"square-jelly-box\", 3, \"fullScreen\"], [2, \"color\", \"white\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-primary\", \"mr-2\", 3, \"click\", \"disabled\"], [1, \"fa\", \"fa-save\"], [\"formControlName\", \"jobDept\", \"tabindex\", \"2\", 3, \"readonly\"], [\"formControlName\", \"jobDept\", \"tabindex\", \"2\", \"popupHeight\", \"200px\", \"placeholder\", \"Select One\", 3, \"change\", \"dataSource\"], [\"formControlName\", \"jobType\", \"tabindex\", \"4\", 3, \"readonly\"], [\"formControlName\", \"jobType\", \"tabindex\", \"4\", 3, \"change\", \"dataSource\"], [\"formControlName\", \"jobCode\", \"tabindex\", \"6\", 3, \"readonly\"], [\"formControlName\", \"jobCode\", \"tabindex\", \"6\", \"placeholder\", \"Select One\", 3, \"change\", \"dataSource\", \"fields\"], [1, \"font-weight-bold\"], [\"formControlName\", \"inWeightBridgeID\", \"tabindex\", \"2\", \"placeholder\", \"Select One\", 3, \"dataSource\", \"fields\", \"allowFiltering\"], [\"formControlName\", \"outWeightBridgeID\", \"tabindex\", \"3\", \"placeholder\", \"Select One\", 3, \"dataSource\", \"fields\", \"allowFiltering\"], [\"type\", \"submit\", \"ejs-button\", \"\", 1, \"e-edit-dialog\", \"e-control\", \"e-btn\", \"e-lib\", \"e-primary\", \"e-flat\", 3, \"click\", \"disabled\"], [\"ejs-button\", \"\", 1, \"e-edit-dialog\", \"e-control\", \"e-btn\", \"e-lib\", \"e-flat\", 3, \"click\"]],\n      template: function ProposalFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"div\", 6)(4, \"ol\", 7)(5, \"li\", 8)(6, \"a\", 9);\n          i0.ɵɵelement(7, \"i\", 10);\n          i0.ɵɵtext(8, \"\\u00A0Dashboard\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"li\", 8);\n          i0.ɵɵtext(10, \"In Check\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"li\", 11);\n          i0.ɵɵtext(12, \"In Check(TMS Operation)\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(13, \"div\", 5)(14, \"div\", 12)(15, \"div\", 13)(16, \"form\", 14)(17, \"div\", 5)(18, \"div\", 15)(19, \"h5\", 16);\n          i0.ɵɵtext(20, \"In Check (TMS Operation)\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 17);\n          i0.ɵɵtemplate(22, ProposalFormComponent_button_22_Template, 3, 1, \"button\", 18);\n          i0.ɵɵelementStart(23, \"a\", 19);\n          i0.ɵɵelement(24, \"i\", 20);\n          i0.ɵɵtext(25, \" \\u00A0 Back \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(26, \"br\");\n          i0.ɵɵelementStart(27, \"div\", 5)(28, \"div\", 21)(29, \"label\", 22);\n          i0.ɵɵtext(30, \"Yard\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(31, \"ejs-dropdownlist\", 23);\n          i0.ɵɵelementStart(32, \"div\")(33, \"label\", 24);\n          i0.ɵɵtext(34, \"*Yard is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(35, \"div\", 21)(36, \"label\", 22);\n          i0.ɵɵtext(37, \"Est Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(38, \"ejs-datepicker\", 25);\n          i0.ɵɵelementStart(39, \"div\")(40, \"label\", 24);\n          i0.ɵɵtext(41, \"*Est Date Time is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(42, \"div\", 21)(43, \"label\", 22);\n          i0.ɵɵtext(44, \"Job Department\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(45, ProposalFormComponent_ejs_textbox_45_Template, 1, 1, \"ejs-textbox\", 26)(46, ProposalFormComponent_ejs_dropdownlist_46_Template, 1, 1, \"ejs-dropdownlist\", 27);\n          i0.ɵɵelementStart(47, \"div\")(48, \"label\", 24);\n          i0.ɵɵtext(49, \"*Job Dept is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(50, \"div\", 21)(51, \"label\", 22);\n          i0.ɵɵtext(52, \"JobType\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(53, ProposalFormComponent_ejs_textbox_53_Template, 1, 1, \"ejs-textbox\", 28)(54, ProposalFormComponent_ejs_dropdownlist_54_Template, 1, 1, \"ejs-dropdownlist\", 29);\n          i0.ɵɵelementStart(55, \"div\")(56, \"label\", 24);\n          i0.ɵɵtext(57, \"*Job Type is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(58, \"div\", 21)(59, \"label\", 22);\n          i0.ɵɵtext(60, \"Job Code\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(61, ProposalFormComponent_ejs_textbox_61_Template, 1, 1, \"ejs-textbox\", 30)(62, ProposalFormComponent_ejs_dropdownlist_62_Template, 1, 3, \"ejs-dropdownlist\", 31);\n          i0.ɵɵelementStart(63, \"div\")(64, \"label\", 24);\n          i0.ɵɵtext(65, \"*Job Code is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(66, \"div\", 21)(67, \"label\", 22);\n          i0.ɵɵtext(68, \"Customer Id\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(69, \"ejs-textbox\", 32);\n          i0.ɵɵelementStart(70, \"div\")(71, \"label\", 24);\n          i0.ɵɵtext(72, \"*Customer Id is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(73, \"div\", 21)(74, \"label\", 22);\n          i0.ɵɵtext(75, \"Customer Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(76, \"ejs-textbox\", 33);\n          i0.ɵɵelementStart(77, \"div\")(78, \"label\", 24);\n          i0.ɵɵtext(79, \"*Customer Name is required\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(80, \"div\", 34)(81, \"label\");\n          i0.ɵɵtext(82, \"Company Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(83, \"ejs-textbox\", 35);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(84, \"div\", 21)(85, \"label\", 22);\n          i0.ɵɵtext(86, \"NoOfTEU\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(87, \"ejs-numerictextbox\", 36);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(88, \"div\", 21)(89, \"label\", 22);\n          i0.ɵɵtext(90, \"NoOfFEU\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(91, \"ejs-numerictextbox\", 37);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(92, \"div\", 21)(93, \"label\", 22);\n          i0.ɵɵtext(94, \"LCL Qty\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(95, \"ejs-numerictextbox\", 38);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(96, \"div\", 34)(97, \"label\");\n          i0.ɵɵtext(98, \"Cargo Info\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(99, \"ejs-textbox\", 39);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(100, \"br\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(101, \"ejs-dialog\", 40, 0);\n          i0.ɵɵtemplate(103, ProposalFormComponent_ng_template_103_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementStart(105, \"form\", 14)(106, \"div\", 5)(107, \"div\", 41)(108, \"label\", 42);\n          i0.ɵɵtext(109, \"Card\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(110, \"ejs-dropdownlist\", 43);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(111, ProposalFormComponent_div_111_Template, 4, 4, \"div\", 44)(112, ProposalFormComponent_div_112_Template, 4, 4, \"div\", 44);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(113, ProposalFormComponent_ng_template_113_Template, 4, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(115, \"ngx-spinner\", 45)(116, \"p\", 46);\n          i0.ɵɵtext(117, \" Loading... \");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"formGroup\", ctx.proposalForm);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.id);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"dataSource\", ctx.yardList)(\"fields\", i0.ɵɵpureFunction0(37, _c1));\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"yard\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"format\", ctx.format1);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"estDate\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.id);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.id);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"jobDept\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.id);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.id);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"jobType\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.id);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.id);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"jobCode\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"readonly\", true);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"customerId\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"readonly\", true);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"visibility\", ctx.validateControl(\"customerName\") ? \"visible\" : \"hidden\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"readonly\", true);\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"showCloseIcon\", true)(\"visible\", false);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formGroup\", ctx.cardForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"dataSource\", ctx.cardList)(\"fields\", i0.ɵɵpureFunction0(38, _c2))(\"allowFiltering\", true);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isInWb);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isOutWb);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"fullScreen\", true);\n        }\n      },\n      dependencies: [TmsOperationModule, i4.NgIf, i5.ɵNgNoValidate, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.DropDownListComponent, i7.NumericTextBoxComponent, i8.DatePickerComponent, i7.TextBoxComponent, i9.DialogComponent, i2.NgxSpinnerComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["FormControl","FormGroup","Validators","catchError","of","Swal","TmsOperationModule","moment","i0","ɵɵelementStart","ɵɵlistener","ProposalFormComponent_button_22_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onFormSubmit","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵproperty","proposalForm","valid","ProposalFormComponent_ejs_dropdownlist_46_Template_ejs_dropdownlist_change_0_listener","$event","_r3","onjobDeptChange","value","jobDeptList","ProposalFormComponent_ejs_dropdownlist_54_Template_ejs_dropdownlist_change_0_listener","_r4","onJobTypeChange","jobTypeList","ProposalFormComponent_ejs_dropdownlist_62_Template_ejs_dropdownlist_change_0_listener","_r5","onJobCodeChange","jobIdList","ɵɵpureFunction0","_c3","ɵɵadvance","wbList","_c4","ProposalFormComponent_ng_template_113_Template_button_click_0_listener","_r6","onFormAssignCard","ProposalFormComponent_ng_template_113_Template_button_click_2_listener","cardModel_r7","ɵɵreference","hide","cardForm","ProposalFormComponent","constructor","service","spinner","route","router","pageSettings","pageSize","editSettings","allowEditing","allowAdding","allowDeleting","mode","toolbar","text","tooltipText","prefixIcon","id","lines","submitClicked","format1","cargoTypeList","typeList","yardList","gateList","truckList","trailerList","driverList","transporterList","areaList","pcCodeList","docList","cardList","truckTypeList","endDate","Date","isInWb","isOutWb","today","placeholder","filterPlaceholder","customerList","ngOnInit","snapshot","queryParams","propNo","yard","required","estDate","jobDept","jobType","jobCode","noOfTEU","noOfFEU","lclQty","customerId","customerName","companyName","cargoInfo","inRegNo","cardNo","inWeightBridgeID","outWeightBridgeID","getLocationList","getCustomerList","show","getYardList","pipe","err","showError","subscribe","result","formData","sDate","format","jDept","getRailDailyJobList","getWHDailyJobList","getCCADailyJobList","code","newJobCodeList","filter","i","controls","setValue","cusName","c","name","groupName","rowDataBound","args","row","data","checkStatus","classList","add","getInBoundCheckById","documentList","detailData","key","hasOwnProperty","createdUser","localStorage","getItem","transporter","x","transporterID","length","transporterName","driver","licenseNo","driverLicenseNo","driverName","driverContactNo","contactNo","fire","console","log","createInBoundCheck","addTMSProposal","status","showSuccess","messageContent","navigate","onBackSubmit","createOutBoundCheck","onTruckChange","truck","vehicleRegNo","error","statusText","msg","validateControl","controlName","control","get","invalid","dirty","touched","toolbarClick","item","selectedRecords","grid","getSelectedRecords","map","docCode","docName","ɵɵdirectiveInject","i1","ProposalService","i2","NgxSpinnerService","i3","ActivatedRoute","Router","selectors","viewQuery","ProposalFormComponent_Query","rf","ctx","ɵɵtemplate","ProposalFormComponent_button_22_Template","ProposalFormComponent_ejs_textbox_45_Template","ProposalFormComponent_ejs_dropdownlist_46_Template","ProposalFormComponent_ejs_textbox_53_Template","ProposalFormComponent_ejs_dropdownlist_54_Template","ProposalFormComponent_ejs_textbox_61_Template","ProposalFormComponent_ejs_dropdownlist_62_Template","ProposalFormComponent_ng_template_103_Template","ɵɵtemplateRefExtractor","ProposalFormComponent_div_111_Template","ProposalFormComponent_div_112_Template","ProposalFormComponent_ng_template_113_Template","_c1","ɵɵstyleProp","_c2","i4","NgIf","i5","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i6","DropDownListComponent","i7","NumericTextBoxComponent","i8","DatePickerComponent","TextBoxComponent","i9","DialogComponent","NgxSpinnerComponent","styles"],"sources":["D:\\poe\\RGL_TMS\\TMS_Web\\TMS_Web\\src\\app\\tms-operation\\components\\proposal-form\\proposal-form.component.ts","D:\\poe\\RGL_TMS\\TMS_Web\\TMS_Web\\src\\app\\tms-operation\\components\\proposal-form\\proposal-form.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { ProposalService } from '../proposal/proposal.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { catchError, of } from 'rxjs';\r\nimport Swal from 'sweetalert2';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { ClickEventArgs } from '@syncfusion/ej2-angular-navigations';\r\nimport { TmsOperationModule } from '../../tms-operation.module';\r\nimport moment from 'moment';\r\nimport { GridComponent, GridLine, PageSettingsModel } from '@syncfusion/ej2-angular-grids';\r\nimport { EditSettingsModel } from '@syncfusion/ej2/treegrid';\r\n\r\n@Component({\r\n  selector: 'app-proposal-form',\r\n  standalone: true,\r\n  imports: [TmsOperationModule],\r\n  templateUrl: './proposal-form.component.html',\r\n  styleUrl: './proposal-form.component.scss'\r\n})\r\nexport class ProposalFormComponent {\r\n\r\n  pageSettings: PageSettingsModel = { pageSize: 10 };\r\n  editSettings: EditSettingsModel = { allowEditing: false, allowAdding: false, allowDeleting: true, mode: 'Dialog' };\r\n  toolbar: any[] = [{ text: \"Checked\", tooltipText: \"Checked\", prefixIcon: \"e-icons e-check\", id: \"check\" },'Search'];\r\n  lines: GridLine = 'Both';\r\n  submitClicked:boolean=false;\r\n  proposalForm:any;\r\n  public format1='dd-MMM-yy hh:mm a';\r\n  id:any;\r\n  cardForm:any;\r\n  detailData:any;\r\n  cargoTypeList:any[]=['Laden','MT'];\r\n  typeList:string[]=['FCL','LCL'];\r\n  yardList:any[]=[];\r\n  gateList:any[]=[];\r\n  wbList:any[]=[];\r\n  truckList:any[]=[];\r\n  trailerList:any[]=[];\r\n  driverList:any[]=[];\r\n  transporterList:any[]=[];\r\n  areaList:any[]=[];\r\n  pcCodeList:any[]=[];\r\n  docList:any[]=[];\r\n  cardList:any[]=[];\r\n  truckTypeList:any[]=['RG','Customer','Supplier'];\r\n  endDate : Date = new Date();\r\n  type:string;\r\n  isInWb:boolean=false;\r\n  isOutWb:boolean=false;\r\n  today : Date = new Date();\r\n  public data: Object[];\r\n  public placeholder: string = 'Select One';\r\n  public filterPlaceholder: string = 'Search';\r\n\r\n  jobDeptList:any[]=[\"CCA\",\"Rail\",\"Warehouse\"];\r\n  jobTypeList:any[]=[];\r\n  jobIdList:any[]=[];\r\n  customerList:any[]=[];\r\n  sDate:Date;\r\n  yard:string;\r\n\r\n  @ViewChild('Grid') public grid: GridComponent;\r\n  constructor(\r\n    private service: ProposalService,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n\r\n  ) {}\r\n\r\n  ngOnInit(){\r\n    this.id = this.route.snapshot.queryParams['id'];\r\n    this.proposalForm = new FormGroup({\r\n    propNo:new FormControl(''),\r\n    yard: new FormControl('',Validators.required),\r\n    estDate: new FormControl(this.today, Validators.required),\r\n    jobDept: new FormControl('',Validators.required),\r\n    jobType: new FormControl('',Validators.required),\r\n    jobCode: new FormControl('',Validators.required),\r\n    noOfTEU: new FormControl(''),\r\n    noOfFEU: new FormControl(''),\r\n    lclQty: new FormControl(''),\r\n    customerId:new FormControl('',Validators.required),\r\n    customerName:new FormControl('',Validators.required),\r\n    companyName:new FormControl(''),\r\n    cargoInfo:new FormControl(''),\r\n    });\r\n\r\n    this.cardForm = new FormGroup({\r\n    inRegNo: new FormControl(''),\r\n    cardNo: new FormControl('', Validators.required),\r\n    inWeightBridgeID: new FormControl(''),\r\n    outWeightBridgeID: new FormControl(''),\r\n    });\r\n    this.getLocationList();\r\n    this.getCustomerList();\r\n\r\n  }\r\n\r\n  getLocationList() {\r\n    this.spinner.show();\r\n    this.service.getYardList('true')\r\n    .pipe(catchError((err) => of(this.showError(err))))\r\n      .subscribe((result) => {\r\n        this.yardList = result;\r\n        this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  getCustomerList(){\r\n    this.spinner.show();\r\n    this.service.getCustomerList()\r\n    .pipe(catchError((err) => of(this.showError(err))))\r\n      .subscribe((result) => {\r\n        this.customerList = result;\r\n        this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  onjobDeptChange(id:string){\r\n    if(id==\"Rail\"){\r\n      this.jobTypeList=[];\r\n      this.jobTypeList=[\"Pick Up\",\"Receive BC\",\"Receive GC\",\"Receive SC\",\"Delivery\",\"Issue BC\",\"Issue GC\",\"Issue SC\"]\r\n    }\r\n    else if(id==\"Warehouse\"){\r\n      this.jobTypeList=[];\r\n      this.jobTypeList=[\"Inbound\",\"Outbound\"];\r\n    }\r\n    else{\r\n      this.jobTypeList=[];\r\n      this.jobTypeList=[\"Import\",\"Ex Bond\",\"Export\",\"Into Bond\"];\r\n    }\r\n   }\r\n\r\n\r\n   onJobTypeChange(jobType:string){\r\n    let formData=this.proposalForm.value;\r\n    const sDate=moment(formData.estDate).format('MM/DD/YYYY');\r\n    const jDept=formData.jobDept;\r\n    this.yard=formData.yard;\r\n    if(jDept==\"Rail\"){\r\n     this.service.getRailDailyJobList(sDate,jobType,this.yard)\r\n     .pipe(catchError((err) => of(this.showError(err))))\r\n       .subscribe((result) => {\r\n         this.jobIdList=[];\r\n         this.jobIdList = result;\r\n     });\r\n    }\r\n    else if(jDept==\"Warehouse\"){\r\n      this.service.getWHDailyJobList(sDate,jobType)\r\n      .pipe(catchError((err) => of(this.showError(err))))\r\n        .subscribe((result) => {\r\n          this.jobIdList=[];\r\n          this.jobIdList = result;\r\n      });\r\n    }\r\n    else{\r\n      this.service.getCCADailyJobList(sDate,jobType)\r\n      .pipe(catchError((err) => of(this.showError(err))))\r\n        .subscribe((result) => {\r\n          this.jobIdList=[];\r\n          this.jobIdList = result;\r\n      });\r\n    }\r\n\r\n    }\r\n\r\n    onJobCodeChange(code: string) {\r\n      const newJobCodeList=this.jobIdList.filter(i=>i.jobCode==code);\r\n      if(newJobCodeList[0].customerId){\r\n        this.proposalForm.controls['customerId'].setValue(newJobCodeList[0].customerId);\r\n        const cusName=this.customerList.filter(c=>c.customerId==newJobCodeList[0].customerId);\r\n        this.proposalForm.controls['customerName'].setValue(cusName[0].name);\r\n        this.proposalForm.controls['companyName'].setValue(cusName[0].groupName);\r\n      }\r\n\r\n    }\r\n\r\n\r\n  rowDataBound(args: any): void {\r\n    if (args.row) {\r\n      //args.isSelectable = args.data.status === 'Draft';\r\n      if (args.data.checkStatus) {\r\n        (args.row as Element).classList.add('bluegreen');\r\n      }\r\n     }\r\n   }\r\n\r\n  getInBoundCheckById(){\r\n    this.spinner.show();\r\n    this.service.getInBoundCheckById(this.id)\r\n    .pipe(catchError((err) => of(this.showError(err))))\r\n      .subscribe((result) => {\r\n        this.docList=result.documentList;\r\n        this.detailData = result;\r\n\r\n        for (let key in this.detailData) {\r\n          if ( this.detailData.hasOwnProperty(key) && this.detailData[key] != null &&  this.proposalForm.controls[key]) {\r\n            if (key != 'documentList') {\r\n              this.proposalForm.controls[key].setValue(this.detailData[key]);\r\n            }\r\n          }\r\n         }\r\n        });\r\n        this.spinner.hide();\r\n  }\r\n\r\n  onFormAssignCard(){\r\n    const formData=this.proposalForm.value;\r\n    const cardForm = this.cardForm.value;\r\n    formData.cardNo = cardForm.cardNo;\r\n    formData.inWeightBridgeID = cardForm.inWeightBridgeID;\r\n    formData.outWeightBridgeID = cardForm.outWeightBridgeID;\r\n    formData.documentList = this.docList;\r\n    formData.inRegNo=0;\r\n    formData.createdUser = localStorage.getItem('currentUser');\r\n    if(this.transporterList){\r\n      const transporter = this.transporterList.filter(x=>x.transporterID==formData.transporterID);\r\n      if(transporter.length>0){\r\n        formData.transporterName = transporter[0].transporterName;\r\n      }\r\n    }\r\n    if(this.driverList.length>0){\r\n      const driver = this.driverList.filter(x=>x.licenseNo==formData.driverLicenseNo);\r\n      if(driver.length>0){\r\n        formData.driverName = driver[0].name;\r\n        formData.driverContactNo = driver[0].contactNo;\r\n      }\r\n    }\r\n    if(this.isInWb){\r\n      if(!cardForm.inWeightBridgeID){\r\n        Swal.fire('In Check Document', 'Please add In Weight Bridge.', 'warning');\r\n        return;\r\n      }\r\n    }\r\n    if(this.isOutWb){\r\n      if(!cardForm.outWeightBridgeID){\r\n        Swal.fire('In Check Document', 'Please add Out Weight Bridge.', 'warning');\r\n        return;\r\n      }\r\n    }\r\n      console.log(formData);\r\n      this.createInBoundCheck(formData);\r\n  }\r\n\r\n  onFormSubmit(){\r\n   this.spinner.show();\r\n   const formData=this.proposalForm.value;\r\n   formData.propNo=1;\r\n   this.addTMSProposal(formData);\r\n  }\r\n\r\n  addTMSProposal(formData:any){\r\n    this.service.addTMSProposal(formData)\r\n    .pipe(catchError((err) => of(this.showError(err))))\r\n      .subscribe((result) => {\r\n        if (result.status == true) {\r\n          this.showSuccess(result.messageContent);\r\n          this.router.navigate([\"/tms-operation/proposal\"]);\r\n        } else {\r\n          this.spinner.hide();\r\n          Swal.fire('Proposal', result.messageContent, 'error');\r\n        }\r\n    });\r\n  }\r\n\r\n  onBackSubmit(){\r\n    this.router.navigate([\"/tms-operation/in-check\"]);\r\n  }\r\n\r\n  createInBoundCheck(formData: any) {\r\n    this.spinner.show();\r\n    this.service\r\n    .createOutBoundCheck(formData)\r\n    .pipe(catchError((err) => of(this.showError(err))))\r\n    .subscribe((result) => {\r\n      if (result.status == true) {\r\n        this.showSuccess(result.messageContent);\r\n        this.router.navigate([\"/tms-operation/in-check\"]);\r\n      } else {\r\n        this.spinner.hide();\r\n        Swal.fire('In Check Document', result.messageContent, 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n    onTruckChange(id:string){\r\n     const truck = this.truckList.filter(x=>x.vehicleRegNo==id);\r\n     if(this.driverList){\r\n      const driver = this.driverList.filter(x=>x.licenseNo==truck[0].driverLicenseNo);\r\n      if(driver.length>0){\r\n        this.proposalForm.controls['driverLicenseNo'].setValue(truck[0].driverLicenseNo?truck[0].driverLicenseNo:null);\r\n      }\r\n     }\r\n      this.proposalForm.controls['transporterID'].setValue(truck[0].transporterID?truck[0].transporterID:null);\r\n    }\r\n\r\n\r\n  showError(error:HttpErrorResponse){\r\n    this.spinner.hide();\r\n    Swal.fire('TMS Proposal',error.statusText,'error');\r\n  }\r\n  showSuccess(msg: string) {\r\n    this.spinner.hide();\r\n    Swal.fire('TMS Proposal', msg, 'success');\r\n  }\r\n\r\n  validateControl(controlName: string) {\r\n    const control = this.proposalForm.get(controlName);\r\n    return (control.invalid && (control.dirty || control.touched)) || (control.invalid && this.submitClicked);\r\n  }\r\n\r\n  toolbarClick(args: ClickEventArgs): void {\r\n    if (args.item.id === 'check') {\r\n      let selectedRecords: any[] = this.grid.getSelectedRecords();\r\n      if (selectedRecords.length == 0) {\r\n        Swal.fire('Check Document', \"Please select one row!\", 'warning');\r\n      }\r\n      else {\r\n        if (args.item.id === 'check')\r\n        {\r\n          for(var i=0;i<selectedRecords.length;i++){\r\n            this.docList = this.docList.map((x) => {\r\n              if (x.docCode === selectedRecords[i].docCode) {\r\n                  return { ...x, docCode:  selectedRecords[i].docCode,docName: selectedRecords[i].docName,checkStatus: true};//update data\r\n              } else {\r\n                  return x; // Keep other objects unchanged\r\n             }\r\n             });\r\n           }\r\n        }\r\n        return;\r\n      }\r\n    }\r\n  }\r\n}\r\n","<section class=\"content mt-0\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 \">\r\n        <ol class=\"breadcrumb\">\r\n          <li class=\"breadcrumb-item\"><a routerLink=\"/dashboard\" routerLinkActive=\"active\"><i class=\"nav-icon fas fa-tachometer-alt\"></i>&nbsp;Dashboard</a></li>\r\n          <li class=\"breadcrumb-item\">In Check</li>\r\n          <li class=\"breadcrumb-item active text-primary\">In Check(TMS Operation)</li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"card card-primary card-outline\">\r\n        <div class=\"card-body\">\r\n          <form [formGroup]=\"proposalForm\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6 col-lg-6 text-left\">\r\n                <h5 class=\"card-title\">In Check (TMS Operation)</h5>\r\n              </div>\r\n              <div class=\"col-md-6 col-lg-6 text-end\">\r\n                <button *ngIf=\"!this.id\" type=\"submit\" class=\"btn btn-sm btn-primary mr-2 \" [disabled]=\"!proposalForm.valid\"  (click)=\"onFormSubmit()\"><i class=\"fa fa-save\"></i>  &nbsp;Save</button>\r\n                <a  class=\"btn btn-sm btn-secondary m-1\"  href=\"/tms-operation/propal\">\r\n                  <i class=\"fa fa-arrow-circle-left\"></i> &nbsp; Back\r\n                </a>\r\n              </div>\r\n            </div><br>\r\n            <div class=\"row\">\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">Yard</label>\r\n                <ejs-dropdownlist  formControlName=\"yard\" tabindex=\"1\" [dataSource]='yardList' [fields]=\"{ text: 'yardID', value: 'yardID' }\" placeholder=\"Select One\"  popupHeight='200px' ></ejs-dropdownlist>\r\n                <div [style.visibility]='validateControl(\"yard\")? \"visible\": \"hidden\"'>\r\n                  <label class=\"e-error\" style=\"display: block;\">*Yard is required</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label class=\"font-weight-normal requiredfield\">Est Date</label>\r\n                <ejs-datepicker  formControlName=\"estDate\" [format]=\"format1\" autocomplete=\"off\" tabindex=\"5\"></ejs-datepicker>\r\n                <div [style.visibility]='validateControl(\"estDate\")? \"visible\": \"hidden\"'>\r\n                  <label class=\"e-error\" style=\"display: block;\">*Est Date Time is required</label>\r\n                </div>\r\n               </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">Job Department</label>\r\n                <ejs-textbox  *ngIf=\"this.id\" formControlName=\"jobDept\" [readonly]=\"true\" tabindex=\"2\" ></ejs-textbox>\r\n                <ejs-dropdownlist *ngIf=\"!this.id\"  formControlName=\"jobDept\" tabindex=\"2\" [dataSource]=\"jobDeptList\" (change)=\"onjobDeptChange($event.value)\"  popupHeight='200px' placeholder=\"Select One\" ></ejs-dropdownlist>\r\n                <div [style.visibility]='validateControl(\"jobDept\")? \"visible\": \"hidden\"'>\r\n                  <label class=\"e-error\" style=\"display: block;\">*Job Dept is required</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">JobType</label>\r\n                <ejs-textbox *ngIf=\"this.id\" formControlName=\"jobType\" [readonly]=\"true\" tabindex=\"4\" ></ejs-textbox>\r\n                <ejs-dropdownlist *ngIf=\"!this.id\" formControlName=\"jobType\" (change)=\"onJobTypeChange($event.value)\"  tabindex=\"4\" [dataSource]='jobTypeList' ></ejs-dropdownlist>\r\n                <div [style.visibility]='validateControl(\"jobType\")? \"visible\": \"hidden\"'>\r\n                  <label class=\"e-error\" style=\"display: block;\">*Job Type is required</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">Job Code</label>\r\n                <ejs-textbox *ngIf=\"this.id\" formControlName=\"jobCode\" [readonly]=\"true\" tabindex=\"6\" ></ejs-textbox>\r\n                <ejs-dropdownlist *ngIf=\"!this.id\"  formControlName=\"jobCode\" tabindex=\"6\" placeholder=\"Select One\" [dataSource]='jobIdList' [fields]=\"{ text: 'jobCode', value: 'jobCode' }\" (change)=\"onJobCodeChange($event.value)\"></ejs-dropdownlist>\r\n                <div [style.visibility]='validateControl(\"jobCode\")? \"visible\": \"hidden\"'>\r\n                  <label class=\"e-error\" style=\"display: block;\">*Job Code is required</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">Customer Id</label>\r\n                <ejs-textbox  formControlName=\"customerId\" [readonly]=\"true\" tabindex=\"6\" ></ejs-textbox>\r\n                <div [style.visibility]='validateControl(\"customerId\")? \"visible\": \"hidden\"'>\r\n                  <label class=\"e-error\" style=\"display: block;\">*Customer Id is required</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">Customer Name</label>\r\n                <ejs-textbox formControlName=\"customerName\" [readonly]=\"true\" tabindex=\"6\" ></ejs-textbox>\r\n                <div [style.visibility]='validateControl(\"customerName\")? \"visible\": \"hidden\"'>\r\n                  <label class=\"e-error\" style=\"display: block;\">*Customer Name is required</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group col-md-8\">\r\n                <label >Company Name</label>\r\n                <ejs-textbox formControlName=\"companyName\" [readonly]=\"true\" tabindex=\"6\" ></ejs-textbox>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">NoOfTEU</label>\r\n                <ejs-numerictextbox formControlName=\"noOfTEU\" tabindex=\"6\" ></ejs-numerictextbox>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">NoOfFEU</label>\r\n                <ejs-numerictextbox formControlName=\"noOfFEU\"  tabindex=\"6\" ></ejs-numerictextbox>\r\n              </div>\r\n              <div class=\"form-group col-md-4\">\r\n                <label  class=\"font-weight-normal requiredfield\">LCL Qty</label>\r\n                <ejs-numerictextbox formControlName=\"lclQty\" tabindex=\"6\" ></ejs-numerictextbox>\r\n              </div>\r\n              <div class=\"form-group col-md-8\">\r\n                <label >Cargo Info</label>\r\n                <ejs-textbox formControlName=\"cargoInfo\" tabindex=\"6\" ></ejs-textbox>\r\n              </div>\r\n          </div>\r\n        </form><br>\r\n          <!-- <h6>Documents</h6>\r\n          <ejs-grid #Grid [dataSource]=\"docList\" [allowSorting]=\"true\" [allowPaging]=\"true\"  [pageSettings]='pageSettings'  [editSettings]=\"editSettings\" [toolbar]=\"toolbar\" (toolbarClick)='toolbarClick($event)' [gridLines]=\"lines\" (rowDataBound)='rowDataBound($event)'>\r\n            <e-columns>\r\n              <e-column type='checkbox' width='40' ></e-column>\r\n              <e-column field='docCode' headerText=\"Doc No\" width=\"100\"></e-column>\r\n              <e-column field='docName' headerText=\"Name\" width=\"110\"></e-column>\r\n              <e-column field='checkStatus' headerText=\"Check Status\" width=\"120\"></e-column>\r\n            </e-columns>\r\n          </ejs-grid> -->\r\n        </div>\r\n      </div>\r\n   </div>\r\n </div>\r\n <ejs-dialog #cardModel isModal=\"true\"  [showCloseIcon]=\"true\" height=\"55%\" width=\"400px\"  allowDragging=\"true\" [visible]=\"false\">\r\n  <ng-template #header>\r\n    <div class=\"font-weight-bold\">Assign Card Form</div>\r\n  </ng-template>\r\n  <form [formGroup]=\"cardForm\">\r\n  <div class=\"row\">\r\n    <div class=\"form-group col-md-12\">\r\n      <label  class=\"requiredfield\">Card</label>\r\n      <ejs-dropdownlist formControlName=\"cardNo\" tabindex=\"1\" [dataSource]='cardList' [fields]=\"{ text: 'cardNo', value: 'cardNo' }\" [allowFiltering]=\"true\" placeholder=\"Select One\" ></ejs-dropdownlist>\r\n    </div>\r\n    <div class=\"form-group col-md-12\" *ngIf=\"this.isInWb\">\r\n      <label  class=\"requiredfield\">In Weight Bridge</label>\r\n      <ejs-dropdownlist formControlName=\"inWeightBridgeID\" tabindex=\"2\" [dataSource]='wbList' [fields]=\"{ text: 'weightBridgeID', value: 'weightBridgeID' }\" [allowFiltering]=\"true\" placeholder=\"Select One\" ></ejs-dropdownlist>\r\n    </div>\r\n    <div class=\"form-group col-md-12\" *ngIf=\"this.isOutWb\">\r\n      <label  class=\"requiredfield\">Out Weight Bridge</label>\r\n      <ejs-dropdownlist formControlName=\"outWeightBridgeID\" tabindex=\"3\" [dataSource]='wbList' [fields]=\"{ text: 'weightBridgeID', value: 'weightBridgeID' }\" [allowFiltering]=\"true\" placeholder=\"Select One\" ></ejs-dropdownlist>\r\n    </div>\r\n   </div>\r\n    <ng-template #footerTemplate>\r\n      <button  class=\"e-edit-dialog e-control e-btn e-lib e-primary e-flat\" type=\"submit\" [disabled]=\"!this.cardForm.valid\"  ejs-button (click)=\"onFormAssignCard()\">Valid</button>\r\n      <button  class=\"e-edit-dialog e-control e-btn e-lib e-flat\" (click)=\"cardModel.hide()\" ejs-button >Close</button>\r\n    </ng-template>\r\n  </form>\r\n</ejs-dialog>\r\n</section>\r\n<ngx-spinner bdColor = \"rgba(0, 0, 0, 0.8)\" size = \"medium\" color = \"#fff\" type = \"square-jelly-box\" [fullScreen] = \"true\"><p style=\"color: white\" > Loading... </p></ngx-spinner>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}