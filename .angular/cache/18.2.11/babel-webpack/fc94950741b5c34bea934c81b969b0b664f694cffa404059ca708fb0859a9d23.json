{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { catchError, of } from 'rxjs';\nimport Swal from 'sweetalert2';\nimport { MasterModule } from '../../master.module';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"./trailer-detail.service\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@syncfusion/ej2-angular-dropdowns\";\nimport * as i8 from \"@syncfusion/ej2-angular-calendars\";\nimport * as i9 from \"@syncfusion/ej2-angular-inputs\";\nimport * as i10 from \"@syncfusion/ej2-angular-buttons\";\nconst _c0 = () => ({\n  text: \"transporterName\",\n  value: \"transporterID\"\n});\nfunction TrailerDetailComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"New Trailer\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TrailerDetailComponent_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Edit Trailer\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TrailerDetailComponent_label_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 20);\n    i0.ɵɵtext(1, \"Vehicle Reg No:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TrailerDetailComponent_label_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 20);\n    i0.ɵɵtext(1, \"Vehicle Reg No:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TrailerDetailComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\", 29);\n    i0.ɵɵtext(2, \"This field is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TrailerDetailComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\", 29);\n    i0.ɵɵtext(2, \"This field is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TrailerDetailComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\", 29);\n    i0.ɵɵtext(2, \"This field is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class TrailerDetailComponent {\n  // loadingTypeList:any[]=[\"Bin\",\"Bulk\",\"Containers\",\"Drums\",\"Pallets\",\"Skids\"];\n  constructor(_sanitizer, service, spinner, route, router) {\n    this._sanitizer = _sanitizer;\n    this.service = service;\n    this.spinner = spinner;\n    this.route = route;\n    this.router = router;\n    this.isAdd = true;\n    this.containerTypeList = [\"Dry Container\", \"HC Container\", \"Open-Top Container\", \"Tank Container\"];\n    this.containerSizeList = [20, 40];\n    this.transporterNames = [];\n    this.formatfilter = 'dd-MMM-yyyy';\n    this.today = new Date();\n  }\n  ngOnInit() {\n    this.breadCrumbItems = [{\n      label: 'Trailer List',\n      routerLink: '/trailer-detail',\n      active: false\n    }, {\n      label: 'Add New Trailer',\n      active: true\n    }];\n    this.id = this.route.snapshot.queryParams['id'];\n    this.trailerForm = new FormGroup({\n      vehicleRegNo: new FormControl({\n        value: this.id,\n        disabled: !!this.id\n      }, Validators.required),\n      vehicleBackRegNo: new FormControl(''),\n      containerType: new FormControl('', Validators.required),\n      containerSize: new FormControl('', Validators.required),\n      transporterID: new FormControl('', Validators.required),\n      trailerWeight: new FormControl(''),\n      driverLicenseNo: new FormControl('', Validators.required),\n      remarks: new FormControl(''),\n      active: new FormControl(false),\n      lastPassedDate: new FormControl(null),\n      isBlack: new FormControl(false),\n      blackDate: new FormControl(''),\n      blackRemovedDate: new FormControl('')\n    });\n    if (this.id) {\n      this.getTrailerById();\n      this.isAdd = true;\n    }\n    this.service.getTransporterNames().subscribe({\n      next: names => {\n        console.log(\"Transporter Names Loaded:\", names);\n        this.transporterNames = names;\n      },\n      error: error => {\n        console.log('Error Loading Transporter Names', error);\n      }\n    });\n  }\n  getTrailerById() {\n    this.spinner.show();\n    this.service.getTrailerId(this.id).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      this.trailerForm.controls['vehicleRegNo'].setValue(result.vehicleRegNo);\n      this.trailerForm.controls['vehicleBackRegNo'].setValue(result.vehicleBackRegNo);\n      this.trailerForm.controls['containerType'].setValue(result.containerType);\n      this.trailerForm.controls['containerSize'].setValue(result.containerSize);\n      this.trailerForm.controls['transporterID'].setValue(result.transporterID);\n      this.trailerForm.controls['trailerWeight'].setValue(result.trailerWeight);\n      this.trailerForm.controls['driverLicenseNo'].setValue(result.driverLicenseNo);\n      this.trailerForm.controls['remarks'].setValue(result.remarks);\n      this.trailerForm.controls['active'].setValue(result.active);\n      this.trailerForm.controls['lastPassedDate'].setValue(result.lastPassedDate);\n      this.isAdd = false;\n      this.breadCrumbItems = [{\n        label: 'Trailer',\n        rounterLink: '/trailer-detail',\n        active: false\n      }, {\n        label: 'Edit Trailer',\n        active: true\n      }];\n      this.spinner.hide();\n    });\n  }\n  saveTrailer() {\n    const formData = this.trailerForm.value;\n    if (this.isAdd) {\n      formData.createdUser = localStorage.getItem('currentUser');\n      this.addNewTrailer(formData);\n    } else {\n      formData.updatedUser = localStorage.getItem('currentUser');\n      this.editTrailer(formData);\n    }\n  }\n  navigateToTrailer() {\n    this.router.navigate(['master/trailer']);\n  }\n  addNewTrailer(data) {\n    this.spinner.show();\n    const formData = new FormData();\n    formData.append(\"VehicleRegNo\", data.vehicleRegNo);\n    formData.append(\"VehicleBackRegNo\", data.vehicleBackRegNo);\n    formData.append(\"ContainerType\", data.containerType);\n    formData.append(\"ContainerSize\", data.containerSize);\n    formData.append(\"TransporterID\", data.transporterID);\n    formData.append(\"TrailerWeight\", data.trailerWeight);\n    formData.append(\"DriverLicenseNo\", data.driverLicenseNo);\n    formData.append(\"Remarks\", data.remarks);\n    formData.append(\"Active\", data.active);\n    if (data.lastPassedDate) {\n      const lastPass = data.lastPassedDate instanceof Date ? data.lastPassedDate : new Date(data.lastPassedDate);\n      const localLastPassedDate = new Date(lastPass.getTime() - lastPass.getTimezoneOffset() * 60000).toISOString().split(\"T\")[0];\n      formData.append(\"LastPassedDate\", localLastPassedDate);\n    }\n    this.service.createTrailer(formData).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      this.spinner.hide();\n      if (result.status) {\n        this.showSuccess('Trailer added successfully!');\n        this.router.navigate([\"master/trailer\"]);\n      } else {\n        Swal.fire('Trailer', result.messageContent, 'error');\n      }\n    });\n  }\n  editTrailer(data) {\n    this.spinner.show();\n    const formData = new FormData();\n    formData.append(\"VehicleRegNo\", this.id);\n    formData.append(\"VehicleBackRegNo\", data.vehicleBackRegNo);\n    formData.append(\"ContainerType\", data.containerType);\n    formData.append(\"ContainerSize\", data.containerSize);\n    formData.append(\"TransporterID\", data.transporterID);\n    formData.append(\"TrailerWeight\", data.trailerWeight);\n    formData.append(\"DriverLicenseNo\", data.driverLicenseNo);\n    formData.append(\"Remarks\", data.remarks);\n    formData.append(\"Active\", data.active);\n    if (data.lastPassedDate) {\n      const lastPass = data.lastPassedDate instanceof Date ? data.lastPassedDate : new Date(data.lastPassedDate);\n      const localLastPassedDate = new Date(lastPass.getTime() - lastPass.getTimezoneOffset() * 60000).toISOString().split(\"T\")[0];\n      formData.append(\"LastPassedDate\", localLastPassedDate);\n    }\n    this.service.updateTrailer(formData).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      this.spinner.hide();\n      if (result.status) {\n        this.showSuccess('Trailer updated successfully!');\n        this.router.navigate([\"master/trailer\"]);\n      } else {\n        Swal.fire('Trailer', result.messageContent, 'error');\n      }\n    });\n  }\n  showSuccess(msg) {\n    Swal.fire('Trailer', msg, 'success');\n  }\n  showError(error) {\n    Swal.fire('Trailer', error.statusText, 'error');\n  }\n  static {\n    this.ɵfac = function TrailerDetailComponent_Factory(t) {\n      return new (t || TrailerDetailComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i2.TrailerDetailService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TrailerDetailComponent,\n      selectors: [[\"app-trailer-detail\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 68,\n      vars: 15,\n      consts: [[1, \"wrapper\"], [1, \"content-wrapper\"], [1, \"container-fluid\"], [1, \"content\", \"my-0\"], [1, \"row\"], [1, \"card\"], [1, \"card-header\", \"d-flex\", \"align-items-center\", \"justify-content-between\"], [1, \"card-title\", \"mb-0\"], [4, \"ngIf\"], [1, \"button-group\", \"d-flex\"], [1, \"btn\", \"btn-info\", \"btn-sm\", \"me-1\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"row\", \"my-0\"], [\"class\", \"col-md-2 requiredfield\", 4, \"ngIf\"], [1, \"form-group\", \"col-md-4\"], [\"formControlName\", \"vehicleRegNo\", \"tabindex\", \"0\", \"maxlength\", \"50\", 1, \"form-control\", \"form-control-sm\"], [1, \"col-md-2\"], [\"formControlName\", \"vehicleBackRegNo\", \"placeholder\", \"Enter Vehicle BackRegNo\", \"autocomplete\", \"off\", \"tabindex\", \"1\", \"maxlength\", \"100\", 1, \"form-control\", \"form-control-sm\"], [1, \"col-md-2\", \"requiredfield\"], [\"formControlName\", \"containerType\", \"placeholder\", \"Choose Container Type\", \"tabindex\", \"2\", 1, \"form-control\", \"form-control-sm\", 3, \"dataSource\"], [\"formControlName\", \"containerSize\", \"placeholder\", \"Choose Container Size\", \"tabindex\", \"3\", 1, \"form-control\", \"form-control-sm\", 3, \"dataSource\"], [\"formControlName\", \"transporterID\", \"autocomplete\", \"off\", \"placeholder\", \"Choosse Transporter\", \"tabindex\", \"4\", \"maxlength\", \"100\", 1, \"form-control\", \"form-control-sm\", 3, \"dataSource\", \"fields\"], [\"formControlName\", \"trailerWeight\", \"autocomplete\", \"off\", \"placeholder\", \"Enter Trailer Weight\", \"tabindex\", \"5\", \"maxlength\", \"100\", 1, \"form-control\", \"form-control-sm\"], [\"formControlName\", \"driverLicenseNo\", \"autocomplete\", \"off\", \"placeholder\", \"Enter Driver License Number\", \"tabindex\", \"6\", \"maxlength\", \"100\", 1, \"form-control\", \"form-control-sm\"], [\"formControlName\", \"lastPassedDate\", \"autocomplete\", \"off\", \"placeholder\", \"Last Passed Date\", \"tabindex\", \"7\", \"maxlength\", \"120\", 1, \"form-control\", \"form-control-sm\", 3, \"format\"], [\"formControlName\", \"active\", \"tabindex\", \"8\"], [\"formControlName\", \"remarks\", \"autocomplete\", \"off\", \"placeholder\", \"Remarks \", \"tabindex\", \"9\", \"maxlength\", \"100\", 1, \"form-control\", \"form-control-sm\"], [1, \"text-danger\"]],\n      template: function TrailerDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵelement(2, \"div\", 2);\n          i0.ɵɵelementStart(3, \"section\", 3)(4, \"div\", 2)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"h4\", 7);\n          i0.ɵɵtemplate(9, TrailerDetailComponent_span_9_Template, 2, 0, \"span\", 8)(10, TrailerDetailComponent_span_10_Template, 2, 0, \"span\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 9)(12, \"button\", 10);\n          i0.ɵɵlistener(\"click\", function TrailerDetailComponent_Template_button_click_12_listener() {\n            return ctx.saveTrailer();\n          });\n          i0.ɵɵtext(13, \" Save \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function TrailerDetailComponent_Template_button_click_14_listener() {\n            return ctx.navigateToTrailer();\n          });\n          i0.ɵɵtext(15, \" Cancel \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"div\", 12)(17, \"div\", 5)(18, \"div\", 12)(19, \"form\", 13)(20, \"div\", 14);\n          i0.ɵɵtemplate(21, TrailerDetailComponent_label_21_Template, 2, 0, \"label\", 15)(22, TrailerDetailComponent_label_22_Template, 2, 0, \"label\", 15);\n          i0.ɵɵelementStart(23, \"div\", 16);\n          i0.ɵɵelement(24, \"ejs-textbox\", 17);\n          i0.ɵɵtemplate(25, TrailerDetailComponent_div_25_Template, 3, 0, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"label\", 18);\n          i0.ɵɵtext(27, \"Vehicle BackRegNo:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"div\", 16);\n          i0.ɵɵelement(29, \"ejs-textbox\", 19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(30, \"div\", 4)(31, \"label\", 20);\n          i0.ɵɵtext(32, \"Container Type:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 16);\n          i0.ɵɵelement(34, \"ejs-dropdownlist\", 21);\n          i0.ɵɵtemplate(35, TrailerDetailComponent_div_35_Template, 3, 0, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"label\", 20);\n          i0.ɵɵtext(37, \"Container Size:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 16);\n          i0.ɵɵelement(39, \"ejs-dropdownlist\", 22);\n          i0.ɵɵtemplate(40, TrailerDetailComponent_div_40_Template, 3, 0, \"div\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(41, \"div\", 4)(42, \"label\", 20);\n          i0.ɵɵtext(43, \"Transporter:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"div\", 16);\n          i0.ɵɵelement(45, \"ejs-dropdownlist\", 23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(46, \"label\", 18);\n          i0.ɵɵtext(47, \"Trailer Weight:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"div\", 16);\n          i0.ɵɵelement(49, \"ejs-textbox\", 24);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(50, \"div\", 4)(51, \"label\", 20);\n          i0.ɵɵtext(52, \"Driver LicenseNo.:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"div\", 16);\n          i0.ɵɵelement(54, \"ejs-textbox\", 25);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(55, \"label\", 18);\n          i0.ɵɵtext(56, \"Last Passed Date:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(57, \"div\", 16);\n          i0.ɵɵelement(58, \"ejs-datepicker\", 26);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(59, \"div\", 4)(60, \"label\", 18);\n          i0.ɵɵtext(61, \"IsActive:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(62, \"div\", 16);\n          i0.ɵɵelement(63, \"ejs-checkbox\", 27);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(64, \"label\", 18);\n          i0.ɵɵtext(65, \"Remarks:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(66, \"div\", 16);\n          i0.ɵɵelement(67, \"textarea\", 28);\n          i0.ɵɵelementEnd()()()()()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdd);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isAdd);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.trailerForm.valid);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"formGroup\", ctx.trailerForm);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdd);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isAdd);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.trailerForm.controls[\"vehicleRegNo\"].invalid && (ctx.trailerForm.controls[\"vehicleRegNo\"].touched || ctx.trailerForm.controls[\"vehicleRegNo\"].dirty));\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"dataSource\", ctx.containerTypeList);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.trailerForm.controls[\"containerType\"].invalid && (ctx.trailerForm.controls[\"containerType\"].touched || ctx.trailerForm.controls[\"containerType\"].dirty));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"dataSource\", ctx.containerSizeList);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.trailerForm.controls[\"containerSize\"].invalid && (ctx.trailerForm.controls[\"containerSize\"].touched || ctx.trailerForm.controls[\"containerSize\"].dirty));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"dataSource\", ctx.transporterNames)(\"fields\", i0.ɵɵpureFunction0(14, _c0));\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"format\", ctx.formatfilter);\n        }\n      },\n      dependencies: [MasterModule, i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.MaxLengthValidator, i6.FormGroupDirective, i6.FormControlName, i7.DropDownListComponent, i8.DatePickerComponent, i9.TextBoxComponent, i10.CheckBoxComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["FormControl","FormGroup","Validators","catchError","of","Swal","MasterModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","TrailerDetailComponent","constructor","_sanitizer","service","spinner","route","router","isAdd","containerTypeList","containerSizeList","transporterNames","formatfilter","today","Date","ngOnInit","breadCrumbItems","label","routerLink","active","id","snapshot","queryParams","trailerForm","vehicleRegNo","value","disabled","required","vehicleBackRegNo","containerType","containerSize","transporterID","trailerWeight","driverLicenseNo","remarks","lastPassedDate","isBlack","blackDate","blackRemovedDate","getTrailerById","getTransporterNames","subscribe","next","names","console","log","error","show","getTrailerId","pipe","err","showError","result","controls","setValue","rounterLink","hide","saveTrailer","formData","createdUser","localStorage","getItem","addNewTrailer","updatedUser","editTrailer","navigateToTrailer","navigate","data","FormData","append","lastPass","localLastPassedDate","getTime","getTimezoneOffset","toISOString","split","createTrailer","status","showSuccess","fire","messageContent","updateTrailer","msg","statusText","ɵɵdirectiveInject","i1","DomSanitizer","i2","TrailerDetailService","i3","NgxSpinnerService","i4","ActivatedRoute","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TrailerDetailComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","TrailerDetailComponent_span_9_Template","TrailerDetailComponent_span_10_Template","ɵɵlistener","TrailerDetailComponent_Template_button_click_12_listener","TrailerDetailComponent_Template_button_click_14_listener","TrailerDetailComponent_label_21_Template","TrailerDetailComponent_label_22_Template","TrailerDetailComponent_div_25_Template","TrailerDetailComponent_div_35_Template","TrailerDetailComponent_div_40_Template","ɵɵadvance","ɵɵproperty","valid","invalid","touched","dirty","ɵɵpureFunction0","_c0","i5","NgIf","i6","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","MaxLengthValidator","FormGroupDirective","FormControlName","i7","DropDownListComponent","i8","DatePickerComponent","i9","TextBoxComponent","i10","CheckBoxComponent","styles"],"sources":["D:\\poe\\RGL_TMS\\TMS_Web\\TMS_Web\\src\\app\\master\\components\\trailer-detail\\trailer-detail.component.ts","D:\\poe\\RGL_TMS\\TMS_Web\\TMS_Web\\src\\app\\master\\components\\trailer-detail\\trailer-detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { TrailerDetailService } from './trailer-detail.service';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { catchError, last, of } from 'rxjs';\r\nimport Swal from 'sweetalert2';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { MasterModule } from '../../master.module';\r\nimport { error } from 'console';\r\nimport { NavBarComponent } from \"../../../theme/layouts/admin-layout/nav-bar/nav-bar.component\";\r\n\r\n@Component({\r\n  selector: 'app-trailer-detail',\r\n  standalone: true,\r\n  imports: [MasterModule],\r\n  templateUrl: './trailer-detail.component.html',\r\n  styleUrl: './trailer-detail.component.scss'\r\n})\r\nexport class TrailerDetailComponent implements OnInit{\r\n  trailerForm: FormGroup;\r\n  id: string;\r\n  breadCrumbItems: Array<{}>;\r\n  isAdd: boolean = true;\r\n  containerTypeList: any[] = [\"Dry Container\",\"HC Container\",\"Open-Top Container\",\"Tank Container\"];\r\n  containerSizeList:any[]=[20,40];\r\n  transporterNames:any[]=[];\r\n  formatfilter:string='dd-MMM-yyyy';\r\n  today : Date = new Date();\r\n  // loadingTypeList:any[]=[\"Bin\",\"Bulk\",\"Containers\",\"Drums\",\"Pallets\",\"Skids\"];\r\n\r\n  constructor(\r\n    private _sanitizer: DomSanitizer,\r\n    private service: TrailerDetailService,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.breadCrumbItems = [{ label: 'Trailer List', routerLink: '/trailer-detail', active: false },\r\n    { label: 'Add New Trailer', active: true }];\r\n    this.id = this.route.snapshot.queryParams['id'];\r\n    this.trailerForm = new FormGroup({\r\n      vehicleRegNo: new FormControl({value:this.id,disabled:!!this.id },Validators.required),\r\n      vehicleBackRegNo: new FormControl(''),\r\n      containerType: new FormControl('',Validators.required),\r\n      containerSize:new FormControl('',Validators.required),\r\n      transporterID:new FormControl('',Validators.required),\r\n      trailerWeight:new FormControl(''),\r\n      driverLicenseNo:new FormControl('',Validators.required),\r\n      remarks:new FormControl(''),\r\n      active: new FormControl(false),\r\n      lastPassedDate:new FormControl(null),\r\n\r\n      isBlack:new FormControl(false), \r\n      blackDate:new FormControl(''),\r\n      blackRemovedDate:new FormControl(''),\r\n    });\r\n    if (this.id) {\r\n      this.getTrailerById();\r\n      this.isAdd=true;\r\n    }\r\n    \r\n    this.service.getTransporterNames().subscribe({\r\n      next:(names)=>{\r\n        console.log(\"Transporter Names Loaded:\",names);\r\n        this.transporterNames=names;\r\n      },\r\n      error:(error)=>{\r\n        console.log('Error Loading Transporter Names',error)\r\n      }\r\n    });\r\n  }\r\n\r\n  getTrailerById() {\r\n    this.spinner.show();\r\n    this.service.getTrailerId(this.id)\r\n   .pipe(catchError((err) => of(this.showError(err))))\r\n     .subscribe((result) => {\r\n      this.trailerForm.controls['vehicleRegNo'].setValue(result.vehicleRegNo);\r\n      this.trailerForm.controls['vehicleBackRegNo'].setValue(result.vehicleBackRegNo);\r\n      this.trailerForm.controls['containerType'].setValue(result.containerType);\r\n      this.trailerForm.controls['containerSize'].setValue(result.containerSize);\r\n      this.trailerForm.controls['transporterID'].setValue(result.transporterID);\r\n      this.trailerForm.controls['trailerWeight'].setValue(result.trailerWeight);\r\n      this.trailerForm.controls['driverLicenseNo'].setValue(result.driverLicenseNo);\r\n      this.trailerForm.controls['remarks'].setValue(result.remarks);\r\n      this.trailerForm.controls['active'].setValue(result.active);\r\n      this.trailerForm.controls['lastPassedDate'].setValue(result.lastPassedDate);\r\n      \r\n      this.isAdd=false;\r\n      this.breadCrumbItems = [{ label: 'Trailer',rounterLink:'/trailer-detail',active:false }, { label: 'Edit Trailer', active: true }];\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  saveTrailer() {\r\n    const formData = this.trailerForm.value;\r\n    if (this.isAdd) {\r\n      formData.createdUser = localStorage.getItem('currentUser');\r\n      this.addNewTrailer(formData);\r\n    } else {\r\n      formData.updatedUser = localStorage.getItem('currentUser');\r\n      this.editTrailer(formData);\r\n    }\r\n  }\r\n  navigateToTrailer() {\r\n    this.router.navigate(['master/trailer']);\r\n  }\r\n\r\n  addNewTrailer(data: any) {\r\n    this.spinner.show();\r\n    const formData = new FormData();\r\n    formData.append(\"VehicleRegNo\", data.vehicleRegNo);\r\n    formData.append(\"VehicleBackRegNo\", data.vehicleBackRegNo);\r\n    formData.append(\"ContainerType\", data.containerType);\r\n    formData.append(\"ContainerSize\",data.containerSize);\r\n    formData.append(\"TransporterID\", data.transporterID);\r\n    formData.append(\"TrailerWeight\",data.trailerWeight);\r\n    formData.append(\"DriverLicenseNo\",data.driverLicenseNo);\r\n    formData.append(\"Remarks\",data.remarks);\r\n    formData.append(\"Active\",data.active);\r\n\r\n    if(data.lastPassedDate){\r\n      const lastPass=data.lastPassedDate instanceof Date? data.lastPassedDate:new Date(data.lastPassedDate);\r\n      const localLastPassedDate=new Date(lastPass.getTime()-lastPass.getTimezoneOffset()*60000)\r\n      .toISOString()\r\n      .split(\"T\")[0];\r\n      formData.append(\"LastPassedDate\",localLastPassedDate);\r\n    }\r\n    \r\n    this.service.createTrailer(formData)\r\n      .pipe(catchError((err) => of(this.showError(err))))\r\n      .subscribe((result) => {\r\n        this.spinner.hide();\r\n        if (result.status) {\r\n          this.showSuccess('Trailer added successfully!');\r\n          this.router.navigate([\"master/trailer\"]);\r\n        } else {\r\n          Swal.fire('Trailer', result.messageContent, 'error');\r\n        }\r\n      });\r\n  }\r\n\r\n  editTrailer(data: any) {\r\n    this.spinner.show();\r\n    const formData = new FormData();\r\n    formData.append(\"VehicleRegNo\", this.id);\r\n    formData.append(\"VehicleBackRegNo\", data.vehicleBackRegNo);\r\n    formData.append(\"ContainerType\", data.containerType);\r\n    formData.append(\"ContainerSize\",data.containerSize);\r\n    formData.append(\"TransporterID\", data.transporterID);\r\n    formData.append(\"TrailerWeight\",data.trailerWeight);\r\n    formData.append(\"DriverLicenseNo\",data.driverLicenseNo);\r\n    formData.append(\"Remarks\",data.remarks);\r\n    formData.append(\"Active\",data.active);\r\n\r\n    if(data.lastPassedDate){\r\n      const lastPass=data.lastPassedDate instanceof Date? data.lastPassedDate:new Date(data.lastPassedDate);\r\n      const localLastPassedDate=new Date(lastPass.getTime()-lastPass.getTimezoneOffset()*60000)\r\n      .toISOString()\r\n      .split(\"T\")[0];\r\n      formData.append(\"LastPassedDate\",localLastPassedDate);\r\n    }\r\n    \r\n    this.service.updateTrailer(formData)\r\n      .pipe(catchError((err) => of(this.showError(err))))\r\n      .subscribe((result) => {\r\n        this.spinner.hide();\r\n        if (result.status) {\r\n          this.showSuccess('Trailer updated successfully!');\r\n          this.router.navigate([\"master/trailer\"]);\r\n        } else {\r\n          Swal.fire('Trailer', result.messageContent, 'error');\r\n        }\r\n      });\r\n  }\r\n\r\n  showSuccess(msg: string) {\r\n    Swal.fire('Trailer', msg, 'success');\r\n  }\r\n\r\n  showError(error: HttpErrorResponse) {\r\n    Swal.fire('Trailer', error.statusText, 'error');\r\n  }\r\n\r\n}\r\n","<div class=\"wrapper\">\r\n    <div class=\"content-wrapper\">\r\n        <div class=\"container-fluid\">\r\n            <!-- <app-page-title title=\"Trailer\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title> -->\r\n            <!-- <app-nav-bar title=\"Trailer\" [breadcu]=\"navigationList\"></app-nav-bar> -->\r\n        </div>\r\n        <section class=\"content my-0\">\r\n            <div class=\"container-fluid\">\r\n                <div class=\"row\">\r\n                    <div class=\"card\">\r\n                            <div class=\"card-header d-flex align-items-center justify-content-between\">\r\n                                <h4 class=\"card-title mb-0\">\r\n                                    <span *ngIf=\"isAdd\">New Trailer</span>\r\n                                    <span *ngIf=\"!isAdd\">Edit Trailer</span>\r\n                                </h4>\r\n                                <div class=\"button-group d-flex\">\r\n                                    <button\r\n                                        class=\"btn btn-info btn-sm me-1\"\r\n                                        (click)=\"saveTrailer()\"\r\n                                        [disabled]=\"!trailerForm.valid\">\r\n                                        Save\r\n                                    </button>\r\n                                    <button\r\n                                        class=\"btn btn-danger btn-sm\"\r\n                                        (click)=\"navigateToTrailer()\">\r\n                                        Cancel\r\n                                    </button>\r\n                                </div>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"card\">\r\n                                <div class=\"card-body\">\r\n                                    <form [formGroup]=\"trailerForm\">\r\n                                        <div class=\"row my-0\">\r\n                                          <label class=\"col-md-2 requiredfield\" *ngIf=\"isAdd\">Vehicle Reg No:</label>\r\n                                          <label class=\"col-md-2 requiredfield\" *ngIf=\"!isAdd\">Vehicle Reg No:</label>\r\n                                          <div class=\"form-group col-md-4\">\r\n                                            <ejs-textbox\r\n                                                formControlName=\"vehicleRegNo\"\r\n                                                class=\"form-control form-control-sm\"\r\n                                                tabindex=\"0\" maxlength=\"50\" />\r\n                                            <div *ngIf=\"trailerForm.controls['vehicleRegNo'].invalid && (trailerForm.controls['vehicleRegNo'].touched || trailerForm.controls['vehicleRegNo'].dirty)\">\r\n                                                <small class=\"text-danger\">This field is required.</small>\r\n                                            </div>\r\n                                        </div>\r\n                                        <label class=\"col-md-2\">Vehicle BackRegNo:</label>\r\n                                        <div class=\"form-group col-md-4\">\r\n                                            <ejs-textbox\r\n                                                formControlName=\"vehicleBackRegNo\"\r\n                                                class=\"form-control form-control-sm\"\r\n                                                placeholder=\"Enter Vehicle BackRegNo\"\r\n                                                autocomplete=\"off\"\r\n                                                tabindex=\"1\" maxlength=\"100\"/>\r\n                                        </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <label class=\"col-md-2 requiredfield\">Container Type:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <ejs-dropdownlist \r\n                                                formControlName=\"containerType\"\r\n                                                [dataSource]=\"containerTypeList\"\r\n                                                class=\"form-control form-control-sm\"\r\n                                                placeholder=\"Choose Container Type\"\r\n                                                tabindex=\"2\">\r\n                                              </ejs-dropdownlist>\r\n                                              <div *ngIf=\"trailerForm.controls['containerType'].invalid && (trailerForm.controls['containerType'].touched || trailerForm.controls['containerType'].dirty)\">\r\n                                                <small class=\"text-danger\">This field is required.</small>\r\n                                              </div>\r\n                                            </div>\r\n                                            <label class=\"col-md-2 requiredfield\">Container Size:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <ejs-dropdownlist \r\n                                                formControlName=\"containerSize\"\r\n                                                [dataSource]=\"containerSizeList\"\r\n                                                class=\"form-control form-control-sm\"\r\n                                                placeholder=\"Choose Container Size\"\r\n                                                tabindex=\"3\">\r\n                                              </ejs-dropdownlist>\r\n                                              <div *ngIf=\"trailerForm.controls['containerSize'].invalid && (trailerForm.controls['containerSize'].touched || trailerForm.controls['containerSize'].dirty)\">\r\n                                                <small class=\"text-danger\">This field is required.</small>\r\n                                              </div>\r\n                                            </div>\r\n                                          </div>\r\n                                        <div class=\"row\">\r\n                                            <label class=\"col-md-2 requiredfield\">Transporter:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <ejs-dropdownlist\r\n                                                    formControlName=\"transporterID\"\r\n                                                    [dataSource]=\"transporterNames\"\r\n                                                    [fields]=\"{ text: 'transporterName', value: 'transporterID' }\"\r\n                                                    class=\"form-control form-control-sm\"\r\n                                                    autocomplete=\"off\"\r\n                                                    placeholder=\"Choosse Transporter\"\r\n                                                    tabindex=\"4\"\r\n                                                    maxlength=\"100\"/>\r\n                                            </div>\r\n                                            <label class=\"col-md-2\">Trailer Weight:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <ejs-textbox\r\n                                                formControlName=\"trailerWeight\"\r\n                                                class=\"form-control form-control-sm\"\r\n                                                autocomplete=\"off\"\r\n                                                placeholder=\"Enter Trailer Weight\"\r\n                                                tabindex=\"5\"\r\n                                                maxlength=\"100\"/>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <label class=\"col-md-2 requiredfield\">Driver LicenseNo.:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <ejs-textbox\r\n                                                formControlName=\"driverLicenseNo\"\r\n                                                class=\"form-control form-control-sm\"\r\n                                                autocomplete=\"off\"\r\n                                                placeholder=\"Enter Driver License Number\"\r\n                                                tabindex=\"6\"\r\n                                                maxlength=\"100\"/>\r\n                                            </div>\r\n                                            <label class=\"col-md-2\">Last Passed Date:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <ejs-datepicker\r\n                                                    formControlName=\"lastPassedDate\"\r\n                                                    class=\"form-control form-control-sm\"\r\n                                                    [format]=\"formatfilter\"\r\n                                                    autocomplete=\"off\"\r\n                                                    placeholder=\"Last Passed Date\"\r\n                                                    tabindex=\"7\"\r\n                                                    maxlength=\"120\">\r\n                                                </ejs-datepicker>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <label class=\"col-md-2\">IsActive:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <ejs-checkbox formControlName=\"active\" tabindex=\"8\"></ejs-checkbox>\r\n                                            </div>\r\n                                            <label class=\"col-md-2\">Remarks:</label>\r\n                                            <div class=\"form-group col-md-4\">\r\n                                                <textarea\r\n                                                    formControlName=\"remarks\"\r\n                                                    class=\"form-control form-control-sm\"\r\n                                                    autocomplete=\"off\"\r\n                                                    placeholder=\"Remarks \"\r\n                                                    tabindex=\"9\"\r\n                                                    maxlength=\"100\"></textarea>\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        <!-- <div class=\"row col-6\">\r\n                                            <div class=\"col-md-4 col-sm-6\"></div>\r\n                                            <div class=\"col-md-2 col-sm-6\">\r\n                                                <button\r\n                                                    class=\"btn btn-block btn-info\"\r\n                                                    (click)=\"saveTrailer()\"\r\n                                                    [disabled]=\"!trailerForm.valid\">\r\n                                                    Save</button>&nbsp;\r\n                                            </div>\r\n                                            <div class=\"col-md-2 col-sm-6\">\r\n                                                <button\r\n                                                class=\"btn btn-block btn-danger\"\r\n                                                (click)=\"navigateToTrailer()\">\r\n                                                Cancel\r\n                                            </button>\r\n                                        </div>\r\n                                        </div> -->\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</div>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}