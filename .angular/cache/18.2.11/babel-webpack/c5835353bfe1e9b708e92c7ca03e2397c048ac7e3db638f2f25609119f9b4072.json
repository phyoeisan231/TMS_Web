{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { catchError, of } from 'rxjs';\nimport Swal from 'sweetalert2';\nimport { MasterModule } from '../../master.module';\nimport moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"./driver-detail.service\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@syncfusion/ej2-angular-dropdowns\";\nimport * as i8 from \"@syncfusion/ej2-angular-calendars\";\nimport * as i9 from \"@syncfusion/ej2-angular-inputs\";\nimport * as i10 from \"@syncfusion/ej2-angular-buttons\";\nfunction DriverDetailComponent_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function DriverDetailComponent_button_22_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.saveDriverList());\n    });\n    i0.ɵɵelement(1, \"i\", 36);\n    i0.ɵɵtext(2, \" \\u00A0Save\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.driverForm.valid);\n  }\n}\nfunction DriverDetailComponent_button_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function DriverDetailComponent_button_23_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.saveDriverList());\n    });\n    i0.ɵɵelement(1, \"i\", 36);\n    i0.ɵɵtext(2, \" \\u00A0Update\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.driverForm.valid);\n  }\n}\nfunction DriverDetailComponent_label_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 25);\n    i0.ɵɵtext(1, \"License No.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DriverDetailComponent_label_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 25);\n    i0.ɵɵtext(1, \"License No.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DriverDetailComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\", 37);\n    i0.ɵɵtext(2, \"This field is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DriverDetailComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\", 37);\n    i0.ɵɵtext(2, \"This field is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DriverDetailComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\", 37);\n    i0.ɵɵtext(2, \"This field is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DriverDetailComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\", 37);\n    i0.ɵɵtext(2, \"This field is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class DriverDetailComponent {\n  constructor(_sanitizer, service, spinner, route, router) {\n    this._sanitizer = _sanitizer;\n    this.service = service;\n    this.spinner = spinner;\n    this.route = route;\n    this.router = router;\n    this.isAdd = true;\n    this.transporterNames = [];\n    this.classList = ['A', 'B', 'C', 'D', 'E'];\n    this.formatfilter = 'dd-MMM-yyyy';\n    this.today = new Date();\n  }\n  ngOnInit() {\n    this.breadCrumbItems = [{\n      label: 'Driver List',\n      routerLink: '/driver-detail',\n      active: false\n    }, {\n      label: 'Add New Driver',\n      active: true\n    }];\n    this.id = this.route.snapshot.queryParams['id'];\n    this.driverForm = new FormGroup({\n      licenseNo: new FormControl({\n        value: this.id,\n        disabled: !!this.id\n      }, Validators.required),\n      nrc: new FormControl(''),\n      name: new FormControl('', Validators.required),\n      address: new FormControl(''),\n      licenseClass: new FormControl('', Validators.required),\n      contactNo: new FormControl(''),\n      licenseExpiration: new FormControl(null, Validators.required),\n      // email: new FormControl('', Validators.compose([Validators.required,\n      // Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')])),\n      email: new FormControl('', [Validators.email]),\n      remarks: new FormControl(''),\n      active: new FormControl(false),\n      isBlack: new FormControl('')\n    });\n    if (this.id) {\n      this.getDriverById();\n    }\n  }\n  navigateToDriver() {\n    this.router.navigate(['master/driver']);\n  }\n  getDriverById() {\n    this.spinner.show();\n    this.service.getDriverId(this.id).pipe(catchError(err => of(this.showError(err)))).subscribe(result => {\n      this.driverForm.controls['licenseNo'].setValue(result.licenseNo);\n      this.driverForm.controls['nrc'].setValue(result.nrc);\n      this.driverForm.controls['name'].setValue(result.name);\n      this.driverForm.controls['address'].setValue(result.address);\n      this.driverForm.controls['licenseClass'].setValue(result.licenseClass);\n      this.driverForm.controls['licenseExpiration'].setValue(result.licenseExpiration);\n      this.driverForm.controls['contactNo'].setValue(result.contactNo);\n      this.driverForm.controls['email'].setValue(result.email);\n      this.driverForm.controls['remarks'].setValue(result.remarks);\n      this.driverForm.controls['active'].setValue(result.active);\n      this.driverForm.controls['isBlack'].setValue(result.isBlack);\n      this.isAdd = false;\n      this.breadCrumbItems = [{\n        label: 'Driver List',\n        rounterLink: '/driver-detail',\n        active: false\n      }, {\n        label: 'Edit Driver',\n        active: true\n      }];\n      this.spinner.hide();\n    });\n  }\n  saveDriverList() {\n    const formData = this.driverForm.value;\n    if (this.isAdd) {\n      formData.createdUser = localStorage.getItem('currentUser');\n      this.driverForm = formData.isBlack;\n      this.addNewDriver(formData);\n    } else {\n      formData.updatedUser = localStorage.getItem('currentUser');\n      this.editDriver(formData);\n    }\n  }\n  addNewDriver(data) {\n    this.spinner.show();\n    const formData = {\n      LicenseNo: data.licenseNo,\n      NRC: data.nrc,\n      Name: data.name,\n      Address: data.address,\n      LicenseClass: data.licenseClass,\n      ContactNo: data.contactNo,\n      Email: data.email,\n      Remarks: data.remarks,\n      Active: data.active,\n      IsBlack: data.isBlack,\n      LicenseExpiration: moment(data.licenseExpiration).format('YYYY/MM/DD')\n    };\n    this.service.createDriver(formData).pipe(catchError(err => of(this.showError(err)))) // Catch errors and show them\n    .subscribe(result => {\n      this.spinner.hide();\n      if (result.status) {\n        this.showSuccess('Driver Added Successfully!');\n        this.router.navigate([\"master/driver\"]);\n      } else {\n        Swal.fire('Driver', result.messageContent, 'error');\n        this.router.navigate([\"master/driver\"]);\n      }\n    });\n  }\n  editDriver(data) {\n    this.spinner.show();\n    const formData = {\n      LicenseNo: this.id,\n      NRC: data.nrc,\n      Name: data.name,\n      Address: data.address ?? \"\",\n      LicenseClass: data.licenseClass,\n      ContactNo: data.contactNo,\n      Email: data.email ?? \"\",\n      Remarks: data.remarks ?? \"\",\n      Active: data.active ? true : false,\n      IsBlack: data.isBlack,\n      LicenseExpiration: moment(data.licenseExpiration).format('YYYY/MM/DD')\n    };\n    this.service.updateDriver(formData).pipe(catchError(err => of(this.showError(err)))) // Catch errors and show them\n    .subscribe(result => {\n      this.spinner.hide();\n      if (result.status) {\n        this.showSuccess('Driver Updated Successfully!');\n        this.router.navigate([\"master/driver\"]);\n      } else {\n        Swal.fire('Driver', result.messageContent, 'error');\n      }\n    });\n  }\n  showSuccess(msg) {\n    Swal.fire('Driver', msg, 'success');\n  }\n  showError(error) {\n    Swal.fire('Driver', error.statusText, 'error');\n  }\n  static {\n    this.ɵfac = function DriverDetailComponent_Factory(t) {\n      return new (t || DriverDetailComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i2.DriverDetailService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DriverDetailComponent,\n      selectors: [[\"app-driver-detail\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 74,\n      vars: 11,\n      consts: [[1, \"content\", \"mt-0\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/dashboard\", \"routerLinkActive\", \"active\"], [1, \"nav-icon\", \"fas\", \"fa-tachometer-alt\"], [1, \"breadcrumb-item\", \"active\", \"text-primary\"], [1, \"card\", \"card-primary\", \"card-outline\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"col-md-6\", \"col-lg-6\", \"text-left\"], [1, \"card-title\"], [1, \"col-md-6\", \"col-lg-6\", \"text-end\"], [\"type\", \"submit\", \"class\", \"btn btn-sm btn-primary mr-2 \", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"routerLink\", \"master/driver\", \"href\", \"master/driver\", 1, \"btn\", \"btn-sm\", \"btn-secondary\", \"m-1\"], [1, \"fa\", \"fa-arrow-circle-left\"], [1, \"row\", \"my-0\"], [1, \"form-group\", \"col-md-4\"], [\"class\", \"font-weight-normal requiredfield\", 4, \"ngIf\"], [\"formControlName\", \"licenseNo\", \"tabindex\", \"0\", \"maxlength\", \"50\"], [4, \"ngIf\"], [1, \"font-weight-normal\"], [\"formControlName\", \"nrc\", \"placeholder\", \"Enter NRC\", \"autocomplete\", \"off\", \"tabindex\", \"1\", \"maxlength\", \"100\"], [1, \"font-weight-normal\", \"requiredfield\"], [\"formControlName\", \"name\", \"placeholder\", \"Enter Driver Name\", \"autocomplete\", \"off\", \"tabindex\", \"2\", \"maxlength\", \"100\"], [1, \"row\", \"mt-2\"], [\"formControlName\", \"address\", \"placeholder\", \"Enter Address\", \"autocomplete\", \"off\", \"tabindex\", \"3\", \"maxlength\", \"100\"], [\"formControlName\", \"licenseClass\", \"autocomplete\", \"off\", \"placeholder\", \"Choose License Class\", \"tabindex\", \"4\", \"maxlength\", \"100\", 3, \"dataSource\"], [\"formControlName\", \"contactNo\", \"autocomplete\", \"off\", \"placeholder\", \"Enter Contact No.\", \"tabindex\", \"5\", \"maxlength\", \"100\"], [\"formControlName\", \"licenseExpiration\", \"autocomplete\", \"off\", \"placeholder\", \"License Expired Date\", \"tabindex\", \"9\", \"maxlength\", \"120\", 3, \"format\"], [\"formControlName\", \"email\", \"autocomplete\", \"off\", \"placeholder\", \"Enter Email\", \"tabindex\", \"7\", \"maxlength\", \"100\"], [\"formControlName\", \"remarks\", \"autocomplete\", \"off\", \"placeholder\", \"Remarks \", \"tabindex\", \"9\", \"maxlength\", \"100\", 1, \"form-control\", \"form-control-sm\"], [\"formControlName\", \"active\", \"label\", \"Active\", \"tabindex\", \"8\", 1, \"font-weight-normal\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-primary\", \"mr-2\", 3, \"click\", \"disabled\"], [1, \"fa\", \"fa-save\"], [1, \"text-danger\"]],\n      template: function DriverDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"ol\", 4)(5, \"li\", 5)(6, \"a\", 6);\n          i0.ɵɵelement(7, \"i\", 7);\n          i0.ɵɵtext(8, \"\\u00A0Dashboard\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"li\", 5);\n          i0.ɵɵtext(10, \"Driver\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"li\", 8);\n          i0.ɵɵtext(12, \"Driver Info\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(13, \"div\", 2)(14, \"div\", 9)(15, \"div\", 10)(16, \"form\", 11)(17, \"div\", 2)(18, \"div\", 12)(19, \"h5\", 13);\n          i0.ɵɵtext(20, \"Driver Info\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 14);\n          i0.ɵɵtemplate(22, DriverDetailComponent_button_22_Template, 3, 1, \"button\", 15)(23, DriverDetailComponent_button_23_Template, 3, 1, \"button\", 15);\n          i0.ɵɵelementStart(24, \"a\", 16);\n          i0.ɵɵelement(25, \"i\", 17);\n          i0.ɵɵtext(26, \" \\u00A0 Back \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(27, \"br\");\n          i0.ɵɵelementStart(28, \"div\", 18)(29, \"div\", 19);\n          i0.ɵɵtemplate(30, DriverDetailComponent_label_30_Template, 2, 0, \"label\", 20)(31, DriverDetailComponent_label_31_Template, 2, 0, \"label\", 20);\n          i0.ɵɵelement(32, \"ejs-textbox\", 21);\n          i0.ɵɵtemplate(33, DriverDetailComponent_div_33_Template, 3, 0, \"div\", 22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"div\", 19)(35, \"label\", 23);\n          i0.ɵɵtext(36, \"NRC\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"ejs-textbox\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 19)(39, \"label\", 25);\n          i0.ɵɵtext(40, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(41, \"ejs-textbox\", 26);\n          i0.ɵɵtemplate(42, DriverDetailComponent_div_42_Template, 3, 0, \"div\", 22);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(43, \"div\", 27)(44, \"div\", 19)(45, \"label\", 23);\n          i0.ɵɵtext(46, \"Address\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(47, \"ejs-textbox\", 28);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"div\", 19)(49, \"label\", 25);\n          i0.ɵɵtext(50, \"License Class\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(51, \"ejs-dropdownlist\", 29);\n          i0.ɵɵtemplate(52, DriverDetailComponent_div_52_Template, 3, 0, \"div\", 22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"div\", 19)(54, \"label\", 23);\n          i0.ɵɵtext(55, \"Contact No.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(56, \"ejs-textbox\", 30);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(57, \"div\", 27)(58, \"div\", 19)(59, \"label\", 25);\n          i0.ɵɵtext(60, \"License Expired Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(61, \"ejs-datepicker\", 31);\n          i0.ɵɵtemplate(62, DriverDetailComponent_div_62_Template, 3, 0, \"div\", 22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(63, \"div\", 19)(64, \"label\", 23);\n          i0.ɵɵtext(65, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(66, \"ejs-textbox\", 32);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"div\", 19)(68, \"label\", 23);\n          i0.ɵɵtext(69, \"Remarks\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(70, \"textarea\", 33);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(71, \"div\", 27)(72, \"div\", 19);\n          i0.ɵɵelement(73, \"ejs-checkbox\", 34);\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"formGroup\", ctx.driverForm);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdd);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isAdd);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdd);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isAdd);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.driverForm.controls[\"licenseNo\"].invalid && (ctx.driverForm.controls[\"licenseNo\"].touched || ctx.driverForm.controls[\"licenseNo\"].dirty));\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", ctx.driverForm.controls[\"name\"].invalid && (ctx.driverForm.controls[\"name\"].touched || ctx.driverForm.controls[\"name\"].dirty));\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"dataSource\", ctx.classList);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.driverForm.controls[\"licenseClass\"].invalid && (ctx.driverForm.controls[\"licenseClass\"].touched || ctx.driverForm.controls[\"licenseClass\"].dirty));\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"format\", ctx.formatfilter);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.driverForm.controls[\"licenseExpiration\"].invalid && (ctx.driverForm.controls[\"licenseExpiration\"].touched || ctx.driverForm.controls[\"licenseExpiration\"].dirty));\n        }\n      },\n      dependencies: [MasterModule, i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.MaxLengthValidator, i6.FormGroupDirective, i6.FormControlName, i7.DropDownListComponent, i8.DatePickerComponent, i9.TextBoxComponent, i10.CheckBoxComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["FormControl","FormGroup","Validators","catchError","of","Swal","MasterModule","moment","i0","ɵɵelementStart","ɵɵlistener","DriverDetailComponent_button_22_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","saveDriverList","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵproperty","driverForm","valid","DriverDetailComponent_button_23_Template_button_click_0_listener","_r3","DriverDetailComponent","constructor","_sanitizer","service","spinner","route","router","isAdd","transporterNames","classList","formatfilter","today","Date","ngOnInit","breadCrumbItems","label","routerLink","active","id","snapshot","queryParams","licenseNo","value","disabled","required","nrc","name","address","licenseClass","contactNo","licenseExpiration","email","remarks","isBlack","getDriverById","navigateToDriver","navigate","show","getDriverId","pipe","err","showError","subscribe","result","controls","setValue","rounterLink","hide","formData","createdUser","localStorage","getItem","addNewDriver","updatedUser","editDriver","data","LicenseNo","NRC","Name","Address","LicenseClass","ContactNo","Email","Remarks","Active","IsBlack","LicenseExpiration","format","createDriver","status","showSuccess","fire","messageContent","updateDriver","msg","error","statusText","ɵɵdirectiveInject","i1","DomSanitizer","i2","DriverDetailService","i3","NgxSpinnerService","i4","ActivatedRoute","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","DriverDetailComponent_Template","rf","ctx","ɵɵtemplate","DriverDetailComponent_button_22_Template","DriverDetailComponent_button_23_Template","DriverDetailComponent_label_30_Template","DriverDetailComponent_label_31_Template","DriverDetailComponent_div_33_Template","DriverDetailComponent_div_42_Template","DriverDetailComponent_div_52_Template","DriverDetailComponent_div_62_Template","ɵɵadvance","invalid","touched","dirty","i5","NgIf","i6","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","MaxLengthValidator","FormGroupDirective","FormControlName","i7","DropDownListComponent","i8","DatePickerComponent","i9","TextBoxComponent","i10","CheckBoxComponent","styles"],"sources":["D:\\poe\\RGL_TMS\\TMS_Web\\TMS_Web\\src\\app\\master\\components\\driver-detail\\driver-detail.component.ts","D:\\poe\\RGL_TMS\\TMS_Web\\TMS_Web\\src\\app\\master\\components\\driver-detail\\driver-detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { catchError, last, of } from 'rxjs';\r\nimport Swal from 'sweetalert2';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { MasterModule } from '../../master.module';\r\nimport { error } from 'console';\r\nimport { DriverDetailService } from './driver-detail.service';\r\nimport moment from 'moment';\r\n@Component({\r\n  selector: 'app-driver-detail',\r\n  standalone: true,\r\n  imports: [MasterModule],\r\n  templateUrl: './driver-detail.component.html',\r\n  styleUrl: './driver-detail.component.scss'\r\n})\r\nexport class DriverDetailComponent implements OnInit{\r\n  driverForm: FormGroup;\r\n  id: string;\r\n  breadCrumbItems: Array<{}>;\r\n  isAdd: boolean = true;\r\n  transporterNames:any[]=[];\r\n  classList: string[]=['A','B','C','D','E'];\r\n  formatfilter:string='dd-MMM-yyyy';\r\n  today : Date = new Date();\r\n\r\n\r\n  constructor(\r\n    private _sanitizer: DomSanitizer,\r\n    private service: DriverDetailService,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n  ) {}\r\n \r\n  ngOnInit(): void {\r\n    this.breadCrumbItems = [{ label: 'Driver List', routerLink: '/driver-detail', active: false },\r\n    { label: 'Add New Driver', active: true }];\r\n    this.id = this.route.snapshot.queryParams['id'];\r\n    this.driverForm = new FormGroup({\r\n      licenseNo: new FormControl({value:this.id,disabled:!!this.id },Validators.required),\r\n      nrc: new FormControl(''),\r\n      name: new FormControl('',Validators.required),\r\n      address: new FormControl(''),\r\n      licenseClass:new FormControl('',Validators.required),\r\n      contactNo: new FormControl(''),\r\n      licenseExpiration:new FormControl(null,Validators.required),\r\n      // email: new FormControl('', Validators.compose([Validators.required,\r\n      // Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')])),\r\n      email: new FormControl('',[Validators.email]),\r\n      remarks:new FormControl(''),\r\n      active: new FormControl(false),\r\n      isBlack:new FormControl(''),\r\n    });\r\n    if (this.id) {\r\n      this.getDriverById();\r\n    }\r\n    \r\n  }\r\n\r\n  navigateToDriver() {\r\n    this.router.navigate(['master/driver']);\r\n  }\r\n\r\n  getDriverById() {\r\n    this.spinner.show();\r\n    this.service.getDriverId(this.id)\r\n   .pipe(catchError((err) => of(this.showError(err))))\r\n     .subscribe((result) => {\r\n      this.driverForm.controls['licenseNo'].setValue(result.licenseNo);\r\n      this.driverForm.controls['nrc'].setValue(result.nrc);\r\n      this.driverForm.controls['name'].setValue(result.name);\r\n      this.driverForm.controls['address'].setValue(result.address);\r\n      this.driverForm.controls['licenseClass'].setValue(result.licenseClass);\r\n      this.driverForm.controls['licenseExpiration'].setValue(result.licenseExpiration);\r\n      this.driverForm.controls['contactNo'].setValue(result.contactNo);\r\n      this.driverForm.controls['email'].setValue(result.email);\r\n      this.driverForm.controls['remarks'].setValue(result.remarks);\r\n      this.driverForm.controls['active'].setValue(result.active);\r\n      this.driverForm.controls['isBlack'].setValue(result.isBlack);\r\n\r\n      this.isAdd=false;\r\n      this.breadCrumbItems = [{ label: 'Driver List',rounterLink:'/driver-detail',active:false }, { label: 'Edit Driver', active: true }];\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  saveDriverList() {\r\n    const formData = this.driverForm.value;\r\n    if (this.isAdd) {\r\n      formData.createdUser = localStorage.getItem('currentUser');\r\n      this.driverForm=formData.isBlack\r\n      this.addNewDriver(formData);\r\n    } else {\r\n      formData.updatedUser = localStorage.getItem('currentUser');\r\n      this.editDriver(formData);\r\n    }\r\n  }\r\n\r\n  addNewDriver(data: any) {\r\n    this.spinner.show();\r\n    const formData = {\r\n      LicenseNo: data.licenseNo,\r\n      NRC: data.nrc,\r\n      Name: data.name,\r\n      Address: data.address,\r\n      LicenseClass: data.licenseClass,\r\n      ContactNo: data.contactNo,\r\n      Email: data.email,\r\n      Remarks: data.remarks,\r\n      Active: data.active,\r\n      IsBlack:data.isBlack,\r\n      LicenseExpiration: moment(data.licenseExpiration).format('YYYY/MM/DD'),\r\n    };\r\n    this.service.createDriver(formData)\r\n      .pipe(catchError((err) => of(this.showError(err)))) // Catch errors and show them\r\n      .subscribe((result) => {\r\n        this.spinner.hide();\r\n        if (result.status) {\r\n          this.showSuccess('Driver Added Successfully!');\r\n          this.router.navigate([\"master/driver\"]);\r\n        } else {\r\n          Swal.fire('Driver', result.messageContent, 'error');\r\n          this.router.navigate([\"master/driver\"]);\r\n        }\r\n      });\r\n  }\r\n   \r\n  editDriver(data: any) {\r\n    this.spinner.show();\r\n    const formData = {\r\n      LicenseNo: this.id,\r\n      NRC: data.nrc,\r\n      Name: data.name,\r\n      Address: data.address ?? \"\",  \r\n      LicenseClass: data.licenseClass,\r\n      ContactNo: data.contactNo,\r\n      Email: data.email ?? \"\",\r\n      Remarks: data.remarks ?? \"\", \r\n      Active: data.active ? true : false,\r\n      IsBlack:data.isBlack,\r\n      LicenseExpiration: moment(data.licenseExpiration).format('YYYY/MM/DD'),\r\n    };\r\n    this.service.updateDriver(formData)\r\n      .pipe(catchError((err) => of(this.showError(err)))) // Catch errors and show them\r\n      .subscribe((result) => {\r\n        this.spinner.hide();\r\n        if (result.status) {\r\n          this.showSuccess('Driver Updated Successfully!');\r\n          this.router.navigate([\"master/driver\"]);\r\n        } else {\r\n          Swal.fire('Driver', result.messageContent, 'error');\r\n        }\r\n      });\r\n  }\r\n  \r\n    showSuccess(msg: string) {\r\n      Swal.fire('Driver', msg, 'success');\r\n    }\r\n  \r\n    showError(error: HttpErrorResponse) {\r\n      Swal.fire('Driver', error.statusText, 'error');\r\n    }\r\n\r\n\r\n}\r\n","<section class=\"content mt-0\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 \">\r\n              <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\"><a routerLink=\"/dashboard\" routerLinkActive=\"active\"><i class=\"nav-icon fas fa-tachometer-alt\"></i>&nbsp;Dashboard</a></li>\r\n                <li class=\"breadcrumb-item\">Driver</li>\r\n                <li class=\"breadcrumb-item active text-primary\">Driver Info</li>\r\n              </ol>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"card card-primary card-outline\">\r\n                <div class=\"card-body\">\r\n                    <form [formGroup]=\"driverForm\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6 col-lg-6 text-left\">\r\n                              <h5 class=\"card-title\">Driver Info</h5>\r\n                            </div>\r\n                            <div class=\"col-md-6 col-lg-6 text-end\">\r\n                                <button type=\"submit\" class=\"btn btn-sm btn-primary mr-2 \" [disabled]=\"!driverForm.valid\"  *ngIf=\"isAdd\" (click)=\"saveDriverList()\"><i class=\"fa fa-save\"></i>  &nbsp;Save</button>\r\n                              <button type=\"submit\" class=\"btn btn-sm btn-primary mr-2 \" [disabled]=\"!driverForm.valid\" *ngIf=\"!isAdd\"  (click)=\"saveDriverList()\"><i class=\"fa fa-save\"></i>  &nbsp;Update</button>\r\n                              <a routerLink=\"master/driver\" class=\"btn btn-sm btn-secondary m-1\" href=\"master/driver\">\r\n                                <i class=\"fa fa-arrow-circle-left\"></i> &nbsp; Back\r\n                              </a>\r\n                            </div>\r\n                          </div><br>\r\n                        <div class=\"row my-0\">\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal requiredfield\" *ngIf=\"isAdd\">License No.</label>\r\n                                <label class=\"font-weight-normal requiredfield\" *ngIf=\"!isAdd\">License No.</label>\r\n                                <ejs-textbox\r\n                                formControlName=\"licenseNo\"\r\n                                tabindex=\"0\" maxlength=\"50\" />\r\n                                <div *ngIf=\"driverForm.controls['licenseNo'].invalid && (driverForm.controls['licenseNo'].touched || driverForm.controls['licenseNo'].dirty)\">\r\n                                    <small class=\"text-danger\">This field is required.</small>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal\">NRC</label>\r\n                                <ejs-textbox\r\n                                    formControlName=\"nrc\"\r\n                                    placeholder=\"Enter NRC\"\r\n                                    autocomplete=\"off\"\r\n                                    tabindex=\"1\" maxlength=\"100\"/>\r\n                            </div>\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal requiredfield\">Name</label>\r\n                                <ejs-textbox\r\n                                    formControlName=\"name\"\r\n                                    placeholder=\"Enter Driver Name\"\r\n                                    autocomplete=\"off\"\r\n                                    tabindex=\"2\"\r\n                                    maxlength=\"100\" />\r\n                                    <div *ngIf=\"driverForm.controls['name'].invalid && (driverForm.controls['name'].touched || driverForm.controls['name'].dirty)\">\r\n                                        <small class=\"text-danger\">This field is required.</small>\r\n                                    </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row mt-2\">\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal\">Address</label>\r\n                                <ejs-textbox\r\n                                    formControlName=\"address\"\r\n                                    placeholder=\"Enter Address\"\r\n                                    autocomplete=\"off\"\r\n                                    tabindex=\"3\" maxlength=\"100\"/>\r\n                            </div>\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal requiredfield\">License Class</label>\r\n                                <ejs-dropdownlist\r\n                                    formControlName=\"licenseClass\"\r\n                                    [dataSource]=\"classList\"\r\n                                    autocomplete=\"off\"\r\n                                    placeholder=\"Choose License Class\"\r\n                                    tabindex=\"4\"\r\n                                    maxlength=\"100\"/>\r\n                                    <div *ngIf=\"driverForm.controls['licenseClass'].invalid && (driverForm.controls['licenseClass'].touched || driverForm.controls['licenseClass'].dirty)\">\r\n                                        <small class=\"text-danger\">This field is required.</small>\r\n                                    </div>\r\n                            </div>\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal\">Contact No.</label>\r\n                              <ejs-textbox\r\n                                  formControlName=\"contactNo\"\r\n                                  autocomplete=\"off\"\r\n                                  placeholder=\"Enter Contact No.\"\r\n                                  tabindex=\"5\"\r\n                                  maxlength=\"100\"/>\r\n                                  <!-- <div *ngIf=\"driverForm.controls['contactNo'].invalid && (driverForm.controls['contactNo'].touched || driverForm.controls['contactNo'].dirty)\">\r\n                                    <small class=\"text-danger\">This field is required.</small>\r\n                                </div> -->\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row mt-2\">\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal requiredfield\">License Expired Date</label>\r\n                                <ejs-datepicker\r\n                                    formControlName=\"licenseExpiration\"\r\n                                    [format]=\"formatfilter\"\r\n                                    autocomplete=\"off\"\r\n                                    placeholder=\"License Expired Date\"\r\n                                    tabindex=\"9\"\r\n                                    maxlength=\"120\">\r\n                                </ejs-datepicker>\r\n                                <div *ngIf=\"driverForm.controls['licenseExpiration'].invalid && (driverForm.controls['licenseExpiration'].touched || driverForm.controls['licenseExpiration'].dirty)\">\r\n                                    <small class=\"text-danger\">This field is required.</small>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal\">Email</label>\r\n                                <ejs-textbox\r\n                                    formControlName=\"email\"\r\n                                    autocomplete=\"off\"\r\n                                    placeholder=\"Enter Email\"\r\n                                    tabindex=\"7\"\r\n                                    maxlength=\"100\">\r\n                                </ejs-textbox>\r\n                            </div>\r\n                            <div class=\"form-group col-md-4\">\r\n                                <label class=\"font-weight-normal\">Remarks</label>\r\n                                <textarea\r\n                                    formControlName=\"remarks\"\r\n                                    class=\"form-control form-control-sm\"\r\n                                    autocomplete=\"off\"\r\n                                    placeholder=\"Remarks \"\r\n                                    tabindex=\"9\"\r\n                                    maxlength=\"100\"></textarea>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row mt-2\">\r\n                            <div class=\"form-group col-md-4\">\r\n                                <ejs-checkbox formControlName=\"active\" class=\"font-weight-normal\" label=\"Active\" tabindex=\"8\"></ejs-checkbox>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}