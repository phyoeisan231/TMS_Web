<section class="content mt-0">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 ">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a routerLink="/" routerLinkActive="active"><i class="nav-icon fas fa-tachometer-alt"></i>&nbsp;Dashboard</a></li>
          <li class="breadcrumb-item active text-info">Gate In (Check)</li>
        </ol>
      </div>
    </div>
    <div class="row">
        <div class="card card-primary card-outline">
          <div class="card-body">
            <div class="row">
              <div class="col-md-12 col-lg-12 text-left">
                <h5 class="card-title">Gate In (Check)</h5>
                <Form [formGroup]="optionForm">
                  <div class="row btns mb-2">
                    <div class="col-lg-5 col-12">
                      <div class="row">
                        <label for="fromDate" class="col-sm-4 col-form-label requiredfield">Date:</label>
                        <div class="col-sm-8 p-0">
                            <ejs-datepicker formControlName="fromDate" [format]="formatfilter" floatLabelType='Always'>
                            </ejs-datepicker>
                        </div>
                       </div>
                      </div>
                      <div class="col-lg-5 col-12">
                       <div class="row">
                         <label for="toDate" class="col-sm-4 col-form-label requiredfield">To:</label>
                          <div class="col-sm-8 p-0">
                            <ejs-datepicker formControlName="toDate"   [format]="formatfilter"   floatLabelType='Always'>
                             </ejs-datepicker>
                           </div>
                         </div>
                       </div>
                   </div>
                   <div class="row mb-2">
                    <div class="col-lg-5 col-12">
                      <div class="row">
                        <label class="col-sm-4 col-form-label requiredfield">Status:</label>
                        <div class="col-sm-8 p-0">
                          <ejs-multiselect formControlName="status"  [dataSource]='statusList' tabindex="3" [mode]='mode' [placeholder]='placeholder' [selectAllText]='selectAllText' showSelectAll=true></ejs-multiselect>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-5 col-12">
                      <div class="row">
                        <label class="col-sm-4 col-form-label requiredfield">Yard:</label>
                        <div class="col-sm-8 p-0">
                          <ejs-multiselect formControlName="yardID" [dataSource]='yardList' [fields]="{ text: 'name', value: 'yardID' }" placeholder="Select One"  tabindex="4" [mode]='mode' [placeholder]='placeholder' [selectAllText]='selectAllText' showSelectAll=true></ejs-multiselect>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-5 col-12">
                      <div class="row">
                        <label class="col-sm-4 col-form-label ">PO No:</label>
                        <div class="col-sm-8 p-0">
                          <ejs-textbox formControlName="poNo" id="poNo" tabindex="5" autocomplete="off" type="number" min="1"></ejs-textbox>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-5 col-12">
                      <div class="row">
                        <label class="col-sm-4 col-form-label ">Ref No:</label>
                        <div class="col-sm-8 p-0">
                          <ejs-textbox formControlName="vendorRefNo" id="vendorRefNo" tabindex="6" autocomplete="off" type="type" ></ejs-textbox>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-2 col-12 justify-content-end">
                      <button type="button" class="btn btn-sm btn-info" [disabled]="!optionForm.valid" (click)="loadTableData()">
                        <i class="fas fa-eye"></i> &nbsp; View
                      </button>
                    </div>
                  </div>
                </Form>
              </div>
            </div>
            <ejs-grid #Grid [dataSource]="data" [allowResizing]="true" [allowSorting]="true" [allowPaging]="true"  [pageSettings]='pageSettings' [editSettings]="editSettings"  [allowExcelExport]='true' [toolbar]="toolbar" (actionBegin)='actionBegin($event)' (actionComplete)='actionComplete($event)' (toolbarClick)='toolbarClick($event)' [gridLines]="lines">
              <e-columns>
                <e-column field='inCheckDateTime' headerText='Check Date Time' width="150"></e-column>
                <e-column field='inRegNo' headerText='In No' [isPrimaryKey]="true" width="90"></e-column>
                <e-column field='inYardID' headerText="Yard" width="150"></e-column>
                <e-column field='inGateID' headerText="Gate" width="100"></e-column>
                <e-column field='inPCCode' headerText="Category" width="100"></e-column>
                <e-column field='inContainerType' headerText="ContainerType" width="100"></e-column>
                <e-column field='inContainerSize' headerText="ContainerSize" width="100"></e-column>
                <e-column field='inType' headerText="Type" width="100"></e-column>
                <e-column field='inCargoType' headerText="CargoType" width="100"></e-column>
                <e-column field='inCargoInfo' headerText="Cargo Info" width="100"></e-column>
                <e-column field='inNoOfContainer' headerText="No Of Container" width="100"></e-column>
                <e-column field='truckType' headerText="Truck Type" width="100"></e-column>
                <e-column field='truckVehicleRegNo' headerText="Truck No" width="100"></e-column>
                <e-column field='driverName' headerText="Driver Name" width="100"></e-column>
                <e-column field='driverLicenseNo' headerText="Driver License No" width="150"></e-column>
                <e-column field='cardNo' headerText="Card No" width="100"></e-column>
                <e-column field='status' headerText="Status" width="100"></e-column>
                <e-column field='jobCode' headerText="Job Code" width="100"></e-column>
                <e-column field='jobDescription' headerText="Job Description" width="100"></e-column>
                <e-column field='remark' headerText="Remark" width="100"></e-column>

              </e-columns>
              <ng-template #editSettingsTemplate let-data>
                <form [formGroup]="gateForm">
                  <div class="row">
                    <div class="form-group col-md-6">
                      <label  class="required">Yard</label>
                      <ejs-dropdownlist formControlName="inYardID" tabindex="1" [dataSource]='yardList' [fields]="{ text: 'yardID', value: 'yardID' }" allowFiltering="true" (change)="onYardChange($event.value)"  popupHeight='200px' floatLabelType='Always' ></ejs-dropdownlist>
                      <div [style.visibility]='validateControl("inYardID")? "visible": "hidden"'>
                        <label class="e-error" style="display: block;">*Yard is required</label>
                      </div>
                    </div>
                    <div class="form-group col-md-6">
                      <label  class="required">Gate</label>
                      <ejs-dropdownlist formControlName="inGateID" tabindex="2" [dataSource]='gate' [fields]="{ text: 'gateID', value: 'gateID' }" allowFiltering="true" popupHeight='200px' floatLabelType='Always' ></ejs-dropdownlist>
                      <div [style.visibility]='validateControl("inGateID")? "visible": "hidden"'>
                        <label class="e-error" style="display: block;">*Gate is required</label>
                      </div>
                    </div>
                    <div class="form-group col-md-6">
                      <label  class="required">Truck Type</label>
                      <ejs-dropdownlist formControlName="truckType" tabindex="3" [dataSource]='truckType' allowFiltering="true" popupHeight='200px' floatLabelType='Always' ></ejs-dropdownlist>
                      <div [style.visibility]='validateControl("truckType")? "visible": "hidden"'>
                        <label class="e-error" style="display: block;">*Truck Type is required</label>
                      </div>
                    </div>
                    <div class="form-group col-md-6">
                      <label for="truckVehicleRegNo" class="required">TruckVehicle RegNo</label>
                      <ejs-textbox formControlName="truckVehicleRegNo" tabindex="4" autocomplete="off"></ejs-textbox>
                       <div [style.visibility]='validateControl("truckVehicleRegNo")'>
                        <label class="e-error" for="truckVehicleRegNo" style="display: block;">*Truck No is required</label>
                      </div>
                    </div>
                    <div class="form-group col-md-6">
                      <label for="truckVehicleRegNo" class="required">TruckVehicle RegNo</label>
                      <ejs-textbox formControlName="truckVehicleRegNo" tabindex="4" autocomplete="off"></ejs-textbox>
                       <div [style.visibility]='validateControl("truckVehicleRegNo")'>
                        <label class="e-error" for="truckVehicleRegNo" style="display: block;">*Truck No is required</label>
                      </div>
                    </div>
                    <div class="form-group col-md-6">
                      <label for="trailerVehicleRegNo" class="required">trailerVehicle RegNo</label>
                      <ejs-textbox formControlName="trailerVehicleRegNo" tabindex="4" autocomplete="off"></ejs-textbox>
                       <div [style.visibility]='validateControl("trailerVehicleRegNo")'>
                        <label class="e-error" for="trailerVehicleRegNo" style="display: block;">*Trailer No is required</label>
                      </div>
                    </div>

                    <!-- <div class="form-group col-md-6">
                      <label  class="required">PCCode</label>
                      <ejs-dropdownlist formControlName="inpcCode" tabindex="3" [dataSource]='pcCodeList' [fields]="{ text: 'pcCode', value: 'pcCode' }" allowFiltering="true"   popupHeight='200px' floatLabelType='Always'></ejs-dropdownlist>
                      <div [style.visibility]='validateControl("inpcCode")? "visible": "hidden"'>
                        <label class="e-error" style="display: block;">*PC Code is required</label>
                      </div>
                    </div> -->
                    <div class="form-group col-md-6">
                      <label  class="required">Container Type</label>
                      <ejs-dropdownlist formControlName="inContainerType" tabindex="4" [dataSource]='containerTypeList' allowFiltering="true"   popupHeight='200px' floatLabelType='Always'></ejs-dropdownlist>
                      <div [style.visibility]='validateControl("inContainerType")? "visible": "hidden"'>
                        <label class="e-error" style="display: block;">*Containr Type is required</label>
                      </div>
                    </div>

                    <div class="form-group col-md-6">
                      <label  class="required">InContainer Size</label>
                      <ejs-dropdownlist formControlName="inContainerSize" tabindex="5" [dataSource]='containerSize' allowFiltering="true"   popupHeight='200px' floatLabelType='Always'></ejs-dropdownlist>
                      <div [style.visibility]='validateControl("inContainerSize")? "visible": "hidden"'>
                        <label class="e-error" style="display: block;">*Container Size is required</label>
                      </div>
                    </div>
                   </div>
                </form>
              </ng-template>
            </ejs-grid>
          </div>
        </div>
    </div>
  </div>
</section>
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "square-jelly-box" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>



