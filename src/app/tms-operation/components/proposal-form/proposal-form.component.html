<section class="content mt-0">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 ">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a routerLink="/dashboard" routerLinkActive="active"><i class="nav-icon fas fa-tachometer-alt"></i>&nbsp;Dashboard</a></li>
          <li class="breadcrumb-item">TMS Proposal</li>
          <li class="breadcrumb-item active text-primary">TMS Proposal Form</li>
        </ol>
      </div>
    </div>
    <div class="row">
      <div class="card card-primary card-outline">
        <div class="card-body">
          <form [formGroup]="proposalForm">
            <div class="row">
              <div class="col-md-6 col-lg-6 text-left">
                <h5 *ngIf="!this.id" class="card-title">Add TMS Proposal</h5>
                <h5 *ngIf="this.id" class="card-title">Update TMS Proposal</h5>
              </div>
              <div class="col-md-6 col-lg-6 text-end">
                <button *ngIf="this.id" type="submit" class="btn btn-sm btn-primary mr-2 " [disabled]="!proposalForm.valid"  (click)="onFormSubmit()"><i class="fa fa-save"></i>  &nbsp;Update</button>
                <button *ngIf="!this.id" type="submit" class="btn btn-sm btn-primary mr-2 " [disabled]="!proposalForm.valid"  (click)="onFormSubmit()"><i class="fa fa-save"></i>  &nbsp;Save</button>
                <a  class="btn btn-sm btn-secondary m-1"  href="/tms-operation/proposal">
                  <i class="fa fa-arrow-circle-left"></i> &nbsp; Back
                </a>
              </div>
            </div><br>
            <div class="row">
              <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">Yard</label>
                <ejs-dropdownlist *ngIf="this.id"  formControlName="yard"  [dataSource]='yardList' readonly="true" [fields]="{ text: 'yardID', value: 'yardID' }" placeholder="Select One"  popupHeight='200px' ></ejs-dropdownlist>
                <ejs-dropdownlist *ngIf="!this.id" formControlName="yard" tabindex="1" [dataSource]='yardList' [fields]="{ text: 'yardID', value: 'yardID' }" placeholder="Select One"  popupHeight='200px' ></ejs-dropdownlist>
                <div [style.visibility]='validateControl("yard")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Yard is required</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">Operation Area</label>
                <ejs-dropdownlist *ngIf="this.id"  formControlName="areaID"  [dataSource]='areaList' readonly="true" [fields]="{ text: 'areaID', value: 'areaID' }" placeholder="Select One"  popupHeight='200px' ></ejs-dropdownlist>
                <ejs-dropdownlist *ngIf="!this.id" formControlName="areaID" tabindex="2" [dataSource]='areaList' [fields]="{ text: 'areaID', value: 'areaID' }" placeholder="Select One"  popupHeight='200px' ></ejs-dropdownlist>
                <div [style.visibility]='validateControl("areaID")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Area is required</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">Job Department</label>
                <ejs-textbox  *ngIf="this.id" formControlName="jobDept" [readonly]="true"  ></ejs-textbox>
                <ejs-dropdownlist *ngIf="!this.id"  formControlName="jobDept" tabindex="3" [dataSource]="jobDeptList" (change)="onjobDeptChange($event.value)"  popupHeight='200px' placeholder="Select One" ></ejs-dropdownlist>
                <div [style.visibility]='validateControl("jobDept")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Job Dept is required</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">JobType</label>
                <ejs-textbox *ngIf="this.id" formControlName="jobType" [readonly]="true"></ejs-textbox>
                <ejs-dropdownlist *ngIf="!this.id" formControlName="jobType" (change)="onJobTypeChange($event.value)"  tabindex="4" [dataSource]='jobTypeList' ></ejs-dropdownlist>
                <div [style.visibility]='validateControl("jobType")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Job Type is required</label>
                </div>
              </div>
              <div class="form-group col-md-8">
                <label  class="font-weight-normal requiredfield">Customer Id</label>
                <ejs-textbox *ngIf="this.id" formControlName="customerId" [readonly]="true" ></ejs-textbox>
                <ejs-dropdownlist *ngIf="!this.id"  formControlName="customerId" tabindex="5" [dataSource]='customerList' [fields]="{ text: 'customer', value: 'customerId' }" (change)="onCustomerChange($event.value)"></ejs-dropdownlist>
                <div [style.visibility]='validateControl("customerId")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Customer Id is required</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">Job Code</label>
                <ejs-textbox *ngIf="this.id" formControlName="jobCode" [readonly]="true" ></ejs-textbox>
                <ejs-dropdownlist *ngIf="!this.id"  formControlName="jobCode" tabindex="6" [dataSource]='jobIdList' [fields]="{ text: 'jobCode', value: 'jobCode' }" (change)="onJobCodeChange($event.value)"></ejs-dropdownlist>
                <div [style.visibility]='validateControl("jobCode")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Job Code is required</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal">BL No</label>
                <ejs-textbox formControlName="blNo" ></ejs-textbox>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">Category</label>
                <ejs-dropdownlist formControlName="pcCode" tabindex="7" [dataSource]='categoryList' [fields]="{ text: 'categoryName', value: 'pcCode' }" placeholder="Select One"  popupHeight='200px' ></ejs-dropdownlist>
                <div [style.visibility]='validateControl("pcCode")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Category is required</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label class="font-weight-normal requiredfield">Est Date</label>
                <ejs-datepicker  formControlName="estDate" [format]="format1" autocomplete="off" tabindex="8"></ejs-datepicker>
                <div [style.visibility]='validateControl("estDate")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Est Date Time is required</label>
                </div>
               </div>
               <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">Weight Option</label>
                <ejs-textbox *ngIf="this.id" formControlName="weightOption" [readonly]="true" ></ejs-textbox>
                <ejs-dropdownlist *ngIf="!this.id" formControlName="weightOption" tabindex="9" [dataSource]="wOption"  popupHeight='200px' ></ejs-dropdownlist>
              </div>

              <div class="form-group col-md-4">
                <label  class="font-weight-normal requiredfield">NoOf Truck</label>
                <ejs-numerictextbox formControlName="noOfTruck" tabindex="10" ></ejs-numerictextbox>
                <div [style.visibility]='validateControl("noOfTruck")? "visible": "hidden"'>
                  <label class="e-error" style="display: block;">*Truck is required</label>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal">NoOfTEU</label>
                <ejs-numerictextbox formControlName="noOfTEU" tabindex="11" ></ejs-numerictextbox>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal">NoOfFEU</label>
                <ejs-numerictextbox formControlName="noOfFEU"  tabindex="12" ></ejs-numerictextbox>
              </div>
              <div class="form-group col-md-4">
                <label  class="font-weight-normal">LCL Qty</label>
                <ejs-numerictextbox formControlName="lclQty" tabindex="13" ></ejs-numerictextbox>
              </div>

              <div class="form-group col-md-4">
                <label >Cargo Info</label>
                <ejs-textbox formControlName="cargoInfo" tabindex="14" ></ejs-textbox>
              </div>

          </div>
        </form><br>
        </div>
      </div>
   </div>
 </div>
</section>
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "square-jelly-box" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>

